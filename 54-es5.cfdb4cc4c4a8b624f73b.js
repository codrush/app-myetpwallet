!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"zBF/":function(t,i,r){"use strict";r.r(i),r.d(i,"LoginXpubPageModule",(function(){return W}));var o=r("ofXK"),a=r("3Pt+"),s=r("TEn/"),c=r("tyNb"),l=r("fXoL"),u=r("BZA/"),b=r("3LUQ"),p=r("Fvwb"),d=r("sYmb");function f(n,e){1&n&&(l.Xb(0,"ion-item",16),l.Sb(1,"span",17),l.Wb())}var g=function(n){return{address:n}};function h(n,e){if(1&n&&l.Sb(0,"ion-item",18),2&n){var t=l.jc();l.pc("translateParams",l.tc(1,g,t.addresses[0]))}}var v,X,m,w=function(n,e){return{"error-border":n,"valid-border":e}},S=[{path:"",component:(v=function(){function t(e,i,r,o){var a=this;n(this,t),this.mvs=e,this.router=i,this.alertService=r,this.walletService=o,this.validXpub=!1,this.xpub="",this.xpubValid=function(n){if(n&&(n.startsWith("xpub")||n.startsWith("tpub")))return a.walletService.getWalletFromMasterPublicKey(n).then((function(n){return a.walletService.generateAddresses(n,0,10)})).then((function(n){a.addresses=n,a.validXpub=!0})).catch((function(n){a.validXpub=!1}));a.validXpub=!1}}var i,r,o;return i=t,(r=[{key:"ngOnInit",value:function(){}},{key:"login",value:function(n){var e=this;this.alertService.showLoading().then((function(){return e.walletService.setXpub(n)})).then((function(){return e.mvs.addAddresses(e.addresses)})).then((function(){return e.alertService.stopLoading()})).then((function(){return e.router.navigate(["/loading"],{state:{data:{reset:!0}}})})).catch((function(n){switch(console.error(n.message),e.alertService.stopLoading(),n.message){case"ERR_DECRYPT_WALLET":e.alertService.showError("MESSAGE.PASSWORD_WRONG","");break;case"ERR_ACCOUNT_NAME_UNKNOWN":e.alertService.showError("MESSAGE.ERR_ACCOUNT_NAME_UNKNOWN","");break;default:e.alertService.showError("MESSAGE.ERR_IMPORT_ACCOUNT",n.message)}}))}}])&&e(i.prototype,r),o&&e(i,o),t}(),v.\u0275fac=function(n){return new(n||v)(l.Rb(u.a),l.Rb(c.h),l.Rb(b.a),l.Rb(p.a))},v.\u0275cmp=l.Lb({type:v,selectors:[["app-login-xpub"]],decls:24,vars:8,consts:[["slot","start"],["defaultHref","/login/open"],["translate","XPUB.TITLE"],["size-md","12","size-lg","6","offset-lg","3"],["loginAccountForm","ngForm"],["align","center","translate","XPUB.INFORMATION"],[1,"center-psw",3,"ngClass"],["color","primary","position","floating","translate","XPUB.PUBLIC_KEY"],["name","xpub","type","text",3,"ngModel","ngModelChange"],["lines","none","class","wrong-input center-psw",4,"ngIf"],["lines","none","class","valid-input center-psw","translate","XPUB.VALID_XPUB",3,"translateParams",4,"ngIf"],[1,"more-top-padding"],["size","12","size-sm","6","offset-sm","3"],["expand","full","fill","outline","shape","round",3,"disabled","click"],["slot","start","name","arrow-forward"],["translate","XPUB.BUTTON.NEXT"],["lines","none",1,"wrong-input","center-psw"],["translate","XPUB.INVALID_XPUB"],["lines","none","translate","XPUB.VALID_XPUB",1,"valid-input","center-psw",3,"translateParams"]],template:function(n,e){1&n&&(l.Xb(0,"ion-header"),l.Xb(1,"ion-toolbar"),l.Xb(2,"ion-buttons",0),l.Sb(3,"ion-back-button",1),l.Wb(),l.Sb(4,"ion-title",2),l.Wb(),l.Wb(),l.Xb(5,"ion-content"),l.Xb(6,"ion-grid"),l.Xb(7,"ion-row"),l.Xb(8,"ion-col",3),l.Xb(9,"form",null,4),l.Xb(11,"ion-row"),l.Xb(12,"ion-col"),l.Sb(13,"p",5),l.Wb(),l.Wb(),l.Xb(14,"ion-item",6),l.Sb(15,"ion-label",7),l.Xb(16,"ion-input",8),l.fc("ngModelChange",(function(n){return e.xpub=n}))("ngModelChange",(function(){return e.xpubValid(e.xpub)})),l.Wb(),l.Wb(),l.Gc(17,f,2,0,"ion-item",9),l.Gc(18,h,1,3,"ion-item",10),l.Xb(19,"ion-row",11),l.Xb(20,"ion-col",12),l.Xb(21,"ion-button",13),l.fc("click",(function(){return e.login(e.xpub)})),l.Sb(22,"ion-icon",14),l.Sb(23,"span",15),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&n&&(l.Fb(14),l.pc("ngClass",l.uc(5,w,e.xpub&&!e.validXpub,e.validXpub)),l.Fb(2),l.pc("ngModel",e.xpub),l.Fb(1),l.pc("ngIf",e.xpub&&!e.validXpub),l.Fb(1),l.pc("ngIf",e.xpub&&e.validXpub),l.Fb(3),l.pc("disabled",!e.validXpub))},directives:[s.u,s.X,s.j,s.f,s.g,s.V,d.a,s.r,s.t,s.K,s.q,a.p,a.j,a.k,s.x,o.k,s.z,s.w,s.hb,a.i,a.l,o.m,s.i,s.v],styles:[".next-button[_ngcontent-%COMP%]{max-width:500px;margin:auto}.more-top-padding[_ngcontent-%COMP%]{padding-top:80px}.center-psw[_ngcontent-%COMP%]{margin:auto}"]}),v)}],P=((m=function e(){n(this,e)}).\u0275mod=l.Pb({type:m}),m.\u0275inj=l.Ob({factory:function(n){return new(n||m)},imports:[[c.j.forChild(S)],c.j]}),m),W=((X=function e(){n(this,e)}).\u0275mod=l.Pb({type:X}),X.\u0275inj=l.Ob({factory:function(n){return new(n||X)},imports:[[o.c,a.e,s.Y,d.c.forChild(),P]]}),X)}}])}();