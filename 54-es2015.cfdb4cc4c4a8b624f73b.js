(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"zBF/":function(t,e,n){"use strict";n.r(e),n.d(e,"LoginXpubPageModule",(function(){return m}));var i=n("ofXK"),s=n("3Pt+"),r=n("TEn/"),o=n("tyNb"),a=n("fXoL"),l=n("BZA/"),b=n("3LUQ"),c=n("Fvwb"),p=n("sYmb");function u(t,e){1&t&&(a.Xb(0,"ion-item",16),a.Sb(1,"span",17),a.Wb())}const d=function(t){return{address:t}};function h(t,e){if(1&t&&a.Sb(0,"ion-item",18),2&t){const t=a.jc();a.pc("translateParams",a.tc(1,d,t.addresses[0]))}}const g=function(t,e){return{"error-border":t,"valid-border":e}},f=[{path:"",component:(()=>{class t{constructor(t,e,n,i){this.mvs=t,this.router=e,this.alertService=n,this.walletService=i,this.validXpub=!1,this.xpub="",this.xpubValid=t=>{if(t&&(t.startsWith("xpub")||t.startsWith("tpub")))return this.walletService.getWalletFromMasterPublicKey(t).then(t=>this.walletService.generateAddresses(t,0,10)).then(t=>{this.addresses=t,this.validXpub=!0}).catch(t=>{this.validXpub=!1});this.validXpub=!1}}ngOnInit(){}login(t){this.alertService.showLoading().then(()=>this.walletService.setXpub(t)).then(()=>this.mvs.addAddresses(this.addresses)).then(()=>this.alertService.stopLoading()).then(()=>this.router.navigate(["/loading"],{state:{data:{reset:!0}}})).catch(t=>{switch(console.error(t.message),this.alertService.stopLoading(),t.message){case"ERR_DECRYPT_WALLET":this.alertService.showError("MESSAGE.PASSWORD_WRONG","");break;case"ERR_ACCOUNT_NAME_UNKNOWN":this.alertService.showError("MESSAGE.ERR_ACCOUNT_NAME_UNKNOWN","");break;default:this.alertService.showError("MESSAGE.ERR_IMPORT_ACCOUNT",t.message)}})}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(l.a),a.Rb(o.h),a.Rb(b.a),a.Rb(c.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["app-login-xpub"]],decls:24,vars:8,consts:[["slot","start"],["defaultHref","/login/open"],["translate","XPUB.TITLE"],["size-md","12","size-lg","6","offset-lg","3"],["loginAccountForm","ngForm"],["align","center","translate","XPUB.INFORMATION"],[1,"center-psw",3,"ngClass"],["color","primary","position","floating","translate","XPUB.PUBLIC_KEY"],["name","xpub","type","text",3,"ngModel","ngModelChange"],["lines","none","class","wrong-input center-psw",4,"ngIf"],["lines","none","class","valid-input center-psw","translate","XPUB.VALID_XPUB",3,"translateParams",4,"ngIf"],[1,"more-top-padding"],["size","12","size-sm","6","offset-sm","3"],["expand","full","fill","outline","shape","round",3,"disabled","click"],["slot","start","name","arrow-forward"],["translate","XPUB.BUTTON.NEXT"],["lines","none",1,"wrong-input","center-psw"],["translate","XPUB.INVALID_XPUB"],["lines","none","translate","XPUB.VALID_XPUB",1,"valid-input","center-psw",3,"translateParams"]],template:function(t,e){1&t&&(a.Xb(0,"ion-header"),a.Xb(1,"ion-toolbar"),a.Xb(2,"ion-buttons",0),a.Sb(3,"ion-back-button",1),a.Wb(),a.Sb(4,"ion-title",2),a.Wb(),a.Wb(),a.Xb(5,"ion-content"),a.Xb(6,"ion-grid"),a.Xb(7,"ion-row"),a.Xb(8,"ion-col",3),a.Xb(9,"form",null,4),a.Xb(11,"ion-row"),a.Xb(12,"ion-col"),a.Sb(13,"p",5),a.Wb(),a.Wb(),a.Xb(14,"ion-item",6),a.Sb(15,"ion-label",7),a.Xb(16,"ion-input",8),a.fc("ngModelChange",(function(t){return e.xpub=t}))("ngModelChange",(function(){return e.xpubValid(e.xpub)})),a.Wb(),a.Wb(),a.Gc(17,u,2,0,"ion-item",9),a.Gc(18,h,1,3,"ion-item",10),a.Xb(19,"ion-row",11),a.Xb(20,"ion-col",12),a.Xb(21,"ion-button",13),a.fc("click",(function(){return e.login(e.xpub)})),a.Sb(22,"ion-icon",14),a.Sb(23,"span",15),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Wb()),2&t&&(a.Fb(14),a.pc("ngClass",a.uc(5,g,e.xpub&&!e.validXpub,e.validXpub)),a.Fb(2),a.pc("ngModel",e.xpub),a.Fb(1),a.pc("ngIf",e.xpub&&!e.validXpub),a.Fb(1),a.pc("ngIf",e.xpub&&e.validXpub),a.Fb(3),a.pc("disabled",!e.validXpub))},directives:[r.u,r.X,r.j,r.f,r.g,r.V,p.a,r.r,r.t,r.K,r.q,s.p,s.j,s.k,r.x,i.k,r.z,r.w,r.hb,s.i,s.l,i.m,r.i,r.v],styles:[".next-button[_ngcontent-%COMP%]{max-width:500px;margin:auto}.more-top-padding[_ngcontent-%COMP%]{padding-top:80px}.center-psw[_ngcontent-%COMP%]{margin:auto}"]}),t})()}];let X=(()=>{class t{}return t.\u0275mod=a.Pb({type:t}),t.\u0275inj=a.Ob({factory:function(e){return new(e||t)},imports:[[o.j.forChild(f)],o.j]}),t})(),m=(()=>{class t{}return t.\u0275mod=a.Pb({type:t}),t.\u0275inj=a.Ob({factory:function(e){return new(e||t)},imports:[[i.c,s.e,r.Y,p.c.forChild(),X]]}),t})()}}]);