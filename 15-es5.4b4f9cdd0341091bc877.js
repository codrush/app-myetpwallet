!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(c){r=!0,s=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw s}}return n}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{MUVa:function(t,a,s){"use strict";s.r(a),s.d(a,"SwapPageModule",(function(){return V}));var i=s("ofXK"),o=s("3Pt+"),c=s("TEn/"),l=s("tyNb"),u=s("mrSG"),d=s("fXoL"),f=s("BZA/"),b=s("Fvwb"),h=s("OaWH"),p=s("3LUQ"),v=s("sYmb"),m=s("q5gJ"),g=["quantityInput"];function S(e,t){1&e&&d.Sb(0,"ion-spinner",7)}function A(e,t){1&e&&d.Sb(0,"p",8),2&e&&d.pc("translate","SWAP.CLOSED")}var E=function(e){return{requiredVersion:e}};function I(e,t){if(1&e&&d.Sb(0,"p",9),2&e){var n=d.jc();d.pc("translate","SWAP.UPDATE_REQUIRED")("translateParams",d.tc(2,E,n.requiredVersion))}}function y(e,t){1&e&&d.Sb(0,"p",37)}function w(e,t){1&e&&d.Sb(0,"br")}function N(e,t){1&e&&d.Sb(0,"br")}function T(e,t){1&e&&d.Sb(0,"p",38)}function F(e,t){if(1&e){var n=d.Yb();d.Xb(0,"ion-button",39),d.fc("click",(function(){return d.Ac(n),d.jc(2).sendAll()})),d.Wb()}}function O(e,t){if(1&e&&(d.Xb(0,"div",40),d.Ic(1),d.kc(2,"number"),d.Wb()),2&e){var n=d.jc(2);d.Fb(1),d.Lc(" \u2248",n.base," ",d.mc(2,2,n.fiatValue(n.quantity),"1.0-2")," ")}}function k(e,t){1&e&&d.Sb(0,"ion-item",41)}var _=function(e){return{minAmount:e}};function M(e,t){if(1&e&&(d.Sb(0,"ion-item",42),d.kc(1,"format")),2&e){var n=d.jc(2);d.pc("translateParams",d.tc(4,_,d.mc(1,1,n.minQuantity,8)))}}function L(e,t){if(1&e&&(d.Xb(0,"ion-select-option",44),d.Ic(1),d.kc(2,"format"),d.Wb()),2&e){var n=d.jc().$implicit,a=d.jc(2);d.qc("value",n.address),d.Fb(1),d.Mc(" ",n.identifier," - ",d.mc(2,4,n.balance,a.decimals)," ",a.selectedAsset,"")}}function R(e,t){if(1&e&&(d.Vb(0),d.Gc(1,L,3,7,"ion-select-option",43),d.Ub()),2&e){var n=t.$implicit;d.Fb(1),d.pc("ngIf",n.balance>0)}}function D(e,t){1&e&&d.Sb(0,"ion-item",45)}var x=function(e,t){return{"error-border":e,"valid-border":t}},P=function(e){return{"error-border":e}};function j(e,t){if(1&e){var n=d.Yb();d.Xb(0,"div"),d.Sb(1,"p",10),d.Sb(2,"p",11),d.Gc(3,y,1,0,"p",12),d.Xb(4,"ion-row"),d.Xb(5,"ion-col"),d.Xb(6,"p",13),d.Ic(7),d.kc(8,"translate"),d.Gc(9,w,1,0,"br",6),d.Ic(10),d.kc(11,"format"),d.Wb(),d.Wb(),d.Xb(12,"ion-col"),d.Xb(13,"p",14),d.Ic(14),d.kc(15,"translate"),d.Gc(16,N,1,0,"br",6),d.Ic(17),d.kc(18,"format"),d.Wb(),d.Wb(),d.Wb(),d.Gc(19,T,1,0,"p",15),d.Xb(20,"form",16,17),d.fc("ngSubmit",(function(){return d.Ac(n),d.jc().send()}))("keyup.enter",(function(){return d.Ac(n),d.jc().send()})),d.Xb(22,"ion-list"),d.Xb(23,"ion-item",18),d.Sb(24,"ion-label",19),d.Xb(25,"ion-input",20,21),d.fc("ngModelChange",(function(e){return d.Ac(n),d.jc().quantity=e})),d.Wb(),d.Gc(27,F,1,0,"ion-button",22),d.Wb(),d.Gc(28,O,3,5,"div",23),d.Gc(29,k,1,0,"ion-item",24),d.Gc(30,M,2,6,"ion-item",25),d.Sb(31,"br"),d.Xb(32,"ion-item",18),d.Sb(33,"ion-label",26),d.Xb(34,"ion-select",27),d.fc("ngModelChange",(function(e){return d.Ac(n),d.jc().sendFrom=e}))("ngModelChange",(function(){return d.Ac(n),d.jc().onFromAddressChange()})),d.kc(35,"translate"),d.kc(36,"translate"),d.Sb(37,"ion-select-option",28),d.Gc(38,R,2,1,"ng-container",29),d.Wb(),d.Wb(),d.Gc(39,D,1,0,"ion-item",30),d.Wb(),d.Xb(40,"ion-row"),d.Xb(41,"ion-col"),d.Xb(42,"ion-button",31),d.fc("click",(function(){return d.Ac(n),d.jc().cancel()})),d.Sb(43,"ion-icon",32),d.Sb(44,"span",33),d.Wb(),d.Wb(),d.Xb(45,"ion-col"),d.Xb(46,"ion-button",34),d.Sb(47,"ion-icon",35),d.Sb(48,"span",36),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&e){var a=d.jc();d.Fb(3),d.pc("ngIf",a.swapInfo.showWarning),d.Fb(4),d.Kc("",d.lc(8,22,"SEND.AVAILABLE_BALANCE"),": "),d.Fb(2),d.pc("ngIf",a.platform.is("mobile")),d.Fb(1),d.Lc("",d.mc(11,24,a.showBalance,a.decimals)," ",a.selectedAsset,""),d.Fb(4),d.Kc("",d.lc(15,27,"SEND_SINGLE.FEE"),":"),d.Fb(2),d.pc("ngIf",a.platform.is("mobile")),d.Fb(1),d.Kc(" ",d.mc(18,29,a.fee,8)," ETP"),d.Fb(2),d.pc("ngIf",a.etpBalance<a.fee/1e8),d.Fb(4),d.pc("ngClass",d.uc(36,x,!a.validQuantity(a.quantity),a.validQuantity(a.quantity))),d.Fb(2),d.pc("ngModel",a.quantity),d.Fb(2),d.pc("ngIf",a.etpBalance>1e4),d.Fb(1),d.pc("ngIf",a.tickers&&a.tickers[a.selectedAsset]&&a.tickers[a.selectedAsset][a.base]),d.Fb(1),d.pc("ngIf",a.countDecimals(a.quantity)>a.decimals),d.Fb(1),d.pc("ngIf",a.quantity&&!a.validMinQuantity(a.quantity)),d.Fb(2),d.pc("ngClass",d.tc(39,P,!a.validFromAddress(a.sendFrom))),d.Fb(2),d.qc("okText",d.lc(35,32,"OK")),d.qc("cancelText",d.lc(36,34,"CANCEL")),d.pc("ngModel",a.sendFrom),d.Fb(4),d.pc("ngForOf",a.addressbalances),d.Fb(1),d.pc("ngIf",!a.validFromAddress(a.sendFrom)),d.Fb(7),d.pc("disabled",!a.validForm())}}var W,C,G,q=s("tpcZ"),X=[{path:"",component:(W=function(){function t(e,a,r,s,i,o,c){var l=this;n(this,t),this.metaverseService=e,this.walletService=a,this.appService=r,this.router=s,this.alertService=i,this.location=o,this.platform=c,this.selectedAsset="ETP",this.balances={},this.quantity="",this.sendFrom="auto",this.feeAddress="auto",this.message="",this.showAdvanced=!1,this.addressbalancesObject={},this.tickers={},this.updateRequired=!0,this.fiatValue=function(e){return parseFloat(e)*l.tickers[l.selectedAsset][l.base].price||0},this.validQuantity=function(e){return void 0!==e&&l.countDecimals(e)<=l.decimals&&l.validMinQuantity(e)&&("ETP"===l.selectedAsset&&l.showBalance>=Math.round(parseFloat(e)*Math.pow(10,l.decimals))+l.fee||"ETP"!==l.selectedAsset&&l.showBalance>=parseFloat(e)*Math.pow(10,l.decimals))},this.validMinQuantity=function(e){return void 0!==e&&1e8*e>=l.minQuantity},this.validFromAddress=function(e){return"auto"===e||l.addressbalancesObject[e]&&0!==l.addressbalancesObject[e].ETP.available},this.validMessageLength=function(e){return l.metaverseService.verifyMessageSize(e)<253},this.validForm=function(){return l.validQuantity(l.quantity)&&l.validMessageLength(l.message)&&l.validFromAddress(l.sendFrom)}}return r(t,[{key:"ngOnInit",value:function(){}},{key:"updateBalancePerAddress",value:function(){var e=this,t=[];Object.keys(this.addresses).forEach((function(n){var a=e.addresses[n];t.push(e.addressbalancesObject[a]?{address:a,avatar:e.addressbalancesObject[a].AVATAR?e.addressbalancesObject[a].AVATAR:"",identifier:e.addressbalancesObject[a].AVATAR?e.addressbalancesObject[a].AVATAR:a,balance:"ETP"===e.selectedAsset?e.addressbalancesObject[a].ETP.available:e.addressbalancesObject[a].MST[e.selectedAsset]?e.addressbalancesObject[a].MST[e.selectedAsset].available:0}:{address:a,avatar:"",identifier:a,balance:0})})),this.addressbalances=t,"auto"!==this.sendFrom&&(!this.addressbalancesObject[this.sendFrom][this.selectedAsset]||this.addressbalancesObject[this.sendFrom][this.selectedAsset].available<Math.round(parseFloat(this.quantity)*Math.pow(10,this.decimals)))&&(this.sendFrom="auto")}},{key:"init",value:function(){var t=this;this.selectedAsset="ETP",this.quantity="",this.sendFrom="auto",this.feeAddress="auto",this.message="",this.showAdvanced=!1,this.vmAddress={},this.minQuantity=1e8,Promise.all([this.metaverseService.getBalances(),this.metaverseService.getAddresses(),this.metaverseService.getAddressBalances()]).then((function(n){var a=e(n,3),r=a[0],s=a[1],i=a[2];t.balances=r.MST;var o="ETP"===t.selectedAsset?r.ETP:r.MST[t.selectedAsset];t.balance=o&&o.available?o.available:0,t.etpBalance=r.ETP.available,t.showBalance=t.balance,t.decimals=o.decimals,t.addresses=s,t.addressbalancesObject=i,t.updateBalancePerAddress()})),this.fee=this.appService.default_fees.default,this.defaultFee=this.fee,this.metaverseService.getFees().then((function(e){t.fee=e.default,t.defaultFee=t.fee})),this.swapAddress="testnet"===this.appService.network?this.appService.testnetMetaverseSwapAddress:this.appService.mainnetMetaverseSwapAddress}},{key:"ionViewDidEnter",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.init(),e.next=3,this.metaverseService.getAddresses();case 3:return t=e.sent,e.next=6,this.walletService.getVmAddresses();case 6:if(n=e.sent,!Array.isArray(t)||!t.length){e.next=30;break}if(!(n&&n.length&&n[0])){e.next=27;break}return e.t0=!1,e.next=12,this.walletService.validWeb3Address(n[0].address);case 12:if(e.t1=e.sent,e.t0!==e.t1){e.next=17;break}this.alertService.showMessage("SWAP.INVALID_VM_ADDRESS.TITLE","SWAP.INVALID_VM_ADDRESS.SUBTITLE",""),this.router.navigate(["account","portfolio"]),e.next=25;break;case 17:return this.vmAddress=n[0],e.next=20,this.metaverseService.getSwapInfo();case 20:this.swapInfo=e.sent,this.requiredVersion=this.swapInfo.minVersion,this.updateRequired=-1==q(this.appService.version,this.requiredVersion),this.minQuantity=this.swapInfo.minQuantity||1e8,this.loadTickers();case 25:e.next=28;break;case 27:this.alertService.showMessage("SWAP.NO_VM_ADDRESS.TITLE","SWAP.NO_VM_ADDRESS.SUBTITLE",""),this.router.navigate(["account","identities","generate-vm-address"]);case 28:e.next=31;break;case 30:this.router.navigate(["login"]);case 31:case"end":return e.stop()}}),e,this)})))}},{key:"loadTickers",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.metaverseService.getBaseAndTickers();case 2:n=t.sent,a=e(n,2),this.base=a[0],this.tickers=a[1];case 6:case"end":return t.stop()}}),t,this)})))}},{key:"countDecimals",value:function(e){return Math.floor(e)!==e&&e.toString().split(".").length>1&&e.toString().split(".")[1].length||0}},{key:"sendAll",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertService.alertConfirm("SEND_SINGLE.ALL.TITLE","SEND_SINGLE.ALL.SUBTITLE","SEND_SINGLE.ALL.CANCEL","SEND_SINGLE.ALL.OK");case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}this.quantity="ETP"===this.selectedAsset?parseFloat((this.showBalance/1e8-this.fee/1e8).toFixed(this.decimals)+"")+"":parseFloat((this.showBalance/Math.pow(10,this.decimals)).toFixed(this.decimals)+"")+"",this.quantityInput.setFocus();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"create",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.alertService.showLoading();case 3:return t=[],e.abrupt("return",(t.push(this.vmAddress.address),this.showAdvanced&&this.message&&t.push(this.message),this.metaverseService.createSendTx(this.selectedAsset,this.swapAddress,"Burn",Math.round(parseFloat(this.quantity)*Math.pow(10,this.decimals)),"auto"!==this.sendFrom?this.sendFrom:null,this.showAdvanced&&"auto"!==this.changeAddress?this.changeAddress:void 0,this.showAdvanced?this.fee:this.defaultFee,t!==[]?t:void 0)));case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0.message),this.alertService.stopLoading(),Error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"send",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.validForm()){e.next=20;break}return e.prev=1,t=[],this.message&&t.push(this.message),e.next=6,this.create();case 6:n=e.sent.encode().toString("hex"),this.alertService.stopLoading(),this.router.navigate(["account","confirm"],{state:{data:{tx:n}}}),e.next=20;break;case 10:e.prev=10,e.t0=e.catch(1),e.t1=(console.error(e.t0),this.alertService.stopLoading(),e.t0.message),e.next="ERR_INSUFFICIENT_BALANCE"===e.t1?15:"ERR_TOO_MANY_INPUTS"===e.t1?17:19;break;case 15:return this.alertService.showError("SEND.MESSAGE.INSUFFICIENT_BALANCE",""),e.abrupt("break",20);case 17:return this.alertService.showErrorTranslated("SEND.MESSAGE.ERROR_TOO_MANY_INPUTS","SEND.MESSAGE.ERROR_TOO_MANY_INPUTS_TEXT"),e.abrupt("break",20);case 19:this.alertService.showError("SEND.MESSAGE.CREATE_TRANSACTION",e.t0.message);case 20:case"end":return e.stop()}}),e,this,[[1,10]])})))}},{key:"cancel",value:function(){this.location.back()}},{key:"onFromAddressChange",value:function(){var e=this;"auto"===this.sendFrom?this.showBalance=this.balance:this.addressbalances.length&&this.addressbalances.forEach((function(t){t.address===e.sendFrom&&(e.showBalance=t.balance)}))}}]),t}(),W.\u0275fac=function(e){return new(e||W)(d.Rb(f.a),d.Rb(b.a),d.Rb(h.a),d.Rb(l.h),d.Rb(p.a),d.Rb(i.i),d.Rb(c.eb))},W.\u0275cmp=d.Lb({type:W,selectors:[["app-swap"]],viewQuery:function(e,t){var n;1&e&&d.Nc(g,!0),2&e&&d.xc(n=d.gc())&&(t.quantityInput=n.first)},decls:11,vars:4,consts:[["slot","start"],["defaultHref","/account/portfolio"],["translate","SWAP.TITLE"],["name","dots",4,"ngIf"],["class","center",3,"translate",4,"ngIf"],["class","center",3,"translate","translateParams",4,"ngIf"],[4,"ngIf"],["name","dots"],[1,"center",3,"translate"],[1,"center",3,"translate","translateParams"],["align","center","translate","SWAP.EXPLANATION"],["align","center","translate","SWAP.WARNING_RED",1,"wrong-input"],["align","center","translate","SWAP.WARNING",4,"ngIf"],[1,"available"],[1,"right"],["align","center","class","wrong-input","translate","SEND.NOTICE_TRANSACTION_FEE_UNCOVERED",4,"ngIf"],[3,"ngSubmit","keyup.enter"],["sendForm","ngForm"],[3,"ngClass"],["color","primary","position","floating","translate","SEND_SINGLE.AMOUNT"],["name","quantity","type","number","min","0","required","",3,"ngModel","ngModelChange"],["quantityInput",""],["slot","end","type","button","fill","outline","shape","round","id","sendAll","translate","SEND_SINGLE.BUTTON.SEND_ALL",3,"click",4,"ngIf"],["class","advice",4,"ngIf"],["lines","none","class","wrong-input","translate","SEND.TOO_MANY_DECIMALS",4,"ngIf"],["lines","none","class","wrong-input","translate","SWAP.LOWER_MIN_AMOUNT",3,"translateParams",4,"ngIf"],["translate","SEND_SINGLE.SEND_FROM"],["name","sendfrom","multiple","false",3,"ngModel","okText","cancelText","ngModelChange"],["selected","true","value","auto","translate","SEND_SINGLE.SEND_FROM_AUTO"],[4,"ngFor","ngForOf"],["lines","none","class","wrong-input","translate","SEND_SINGLE.FROM_ADDRESS_NO_ETP",4,"ngIf"],["color","danger","expand","full","fill","outline","shape","round",3,"click"],["slot","start","name","close"],["translate","SEND_SINGLE.BUTTON.CANCEL"],["type","submit","expand","full","color","primary","fill","outline","shape","round",3,"disabled"],["slot","start","disabled","checked","name","cog"],["translate","SEND_SINGLE.BUTTON.NEXT"],["align","center","translate","SWAP.WARNING"],["align","center","translate","SEND.NOTICE_TRANSACTION_FEE_UNCOVERED",1,"wrong-input"],["slot","end","type","button","fill","outline","shape","round","id","sendAll","translate","SEND_SINGLE.BUTTON.SEND_ALL",3,"click"],[1,"advice"],["lines","none","translate","SEND.TOO_MANY_DECIMALS",1,"wrong-input"],["lines","none","translate","SWAP.LOWER_MIN_AMOUNT",1,"wrong-input",3,"translateParams"],[3,"value",4,"ngIf"],[3,"value"],["lines","none","translate","SEND_SINGLE.FROM_ADDRESS_NO_ETP",1,"wrong-input"]],template:function(e,t){1&e&&(d.Xb(0,"ion-header"),d.Xb(1,"ion-toolbar"),d.Xb(2,"ion-buttons",0),d.Sb(3,"ion-back-button",1),d.Wb(),d.Sb(4,"ion-title",2),d.Wb(),d.Wb(),d.Xb(5,"ion-content"),d.Sb(6,"br"),d.Gc(7,S,1,0,"ion-spinner",3),d.Gc(8,A,1,1,"p",4),d.Gc(9,I,1,4,"p",5),d.Gc(10,j,49,41,"div",6),d.Wb()),2&e&&(d.Fb(7),d.pc("ngIf",!t.swapInfo),d.Fb(1),d.pc("ngIf",t.swapInfo&&!t.swapInfo.open),d.Fb(1),d.pc("ngIf",t.swapInfo&&t.swapInfo.open&&t.updateRequired),d.Fb(1),d.pc("ngIf",t.swapInfo&&t.swapInfo.open&&!t.updateRequired))},directives:[c.u,c.X,c.j,c.f,c.g,c.V,v.a,c.r,i.m,c.R,c.K,c.q,o.p,o.j,o.k,c.A,c.x,i.k,c.z,c.w,c.db,o.n,o.i,o.l,c.N,c.gb,c.O,i.l,c.i,c.v],pipes:[v.d,m.a,i.f],styles:["#sendAll[_ngcontent-%COMP%]{height:34px;margin-top:20px}"]}),W)}],B=((C=function e(){n(this,e)}).\u0275mod=d.Pb({type:C}),C.\u0275inj=d.Ob({factory:function(e){return new(e||C)},imports:[[l.j.forChild(X)],l.j]}),C),U=s("iTUp"),V=((G=function e(){n(this,e)}).\u0275mod=d.Pb({type:G}),G.\u0275inj=d.Ob({factory:function(e){return new(e||G)},imports:[[i.c,o.e,c.Y,v.c.forChild(),U.a,B]]}),G)},iTUp:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a("ofXK"),s=a("fXoL"),i=function(){var e=function e(){n(this,e)};return e.\u0275mod=s.Pb({type:e}),e.\u0275inj=s.Ob({factory:function(t){return new(t||e)},imports:[[r.c]]}),e}()},q5gJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a("fXoL"),i=function(){var e=function(){function e(){n(this,e)}return r(e,[{key:"transform",value:function(e,t){return(e/Math.pow(10,t)).toLocaleString(void 0,{maximumFractionDigits:t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Qb({name:"format",type:e,pure:!0}),e}()},tpcZ:function(e,t,n){var a,r;void 0===(r="function"==typeof(a=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t,n=e.replace(/^v/,"").replace(/\+.*$/,""),a=-1===(t=n).indexOf("-")?t.length:t.indexOf("-"),r=n.substring(0,a).split(".");return r.push(n.substring(a+1)),r}function n(e){return isNaN(Number(e))?e:Number(e)}function a(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function r(e,r){[e,r].forEach(a);for(var s=t(e),i=t(r),o=0;o<Math.max(s.length-1,i.length-1);o++){var c=parseInt(s[o]||0,10),l=parseInt(i[o]||0,10);if(c>l)return 1;if(l>c)return-1}var u=s[s.length-1],d=i[i.length-1];if(u&&d){var f=u.split(".").map(n),b=d.split(".").map(n);for(o=0;o<Math.max(f.length,b.length);o++){if(void 0===f[o]||"string"==typeof b[o]&&"number"==typeof f[o])return-1;if(void 0===b[o]||"string"==typeof f[o]&&"number"==typeof b[o])return 1;if(f[o]>b[o])return 1;if(b[o]>f[o])return-1}}else if(u||d)return u?-1:1;return 0}var s=[">",">=","=","<","<="],i={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return r.validate=function(t){return"string"==typeof t&&e.test(t)},r.compare=function(e,t,n){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===s.indexOf(e))throw new TypeError("Invalid operator, expected one of "+s.join("|"))}(n);var a=r(e,t);return i[n].indexOf(a)>-1},r})?a.apply(t,[]):a)||(e.exports=r)}}])}();