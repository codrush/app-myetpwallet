!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{QwAB:function(o,r,e){"use strict";e.r(r),e.d(r,"ImportBackupPageModule",(function(){return N}));var i=e("ofXK"),a=e("3Pt+"),c=e("TEn/"),s=e("tyNb"),l=e("fXoL"),b=e("BZA/"),u=e("sYmb"),d=function(n){return{nbr_words:n}};function f(n,t){if(1&n&&l.Sb(0,"h2",26),2&n){var o=l.jc();l.pc("translateParams",l.tc(1,d,24-o.amount_words))}}function m(n,t){1&n&&(l.Xb(0,"h2",27),l.Sb(1,"ion-icon",28),l.Ic(2),l.kc(3,"translate"),l.Wb()),2&n&&(l.Fb(2),l.Kc(" ",l.lc(3,1,"IMPORT_WALLET_MNEMONIC.WORDS_ALL_OK")," "))}function w(n,t){1&n&&(l.Xb(0,"h2",29),l.Sb(1,"ion-icon",30),l.Ic(2),l.kc(3,"translate"),l.Wb()),2&n&&(l.Fb(2),l.Kc(" ",l.lc(3,1,"IMPORT_WALLET_MNEMONIC.INCORRECT_MNEMONIC")," "))}function g(n,t){if(1&n&&(l.Xb(0,"h2",29),l.Sb(1,"ion-icon",30),l.Ic(2),l.kc(3,"translate"),l.Wb()),2&n){var o=l.jc();l.Fb(2),l.Lc(" ",l.lc(3,2,"IMPORT_WALLET_MNEMONIC.INCORRECT_WORD"),"",o.first_wrong+1," ")}}function h(n,t){1&n&&(l.Xb(0,"h2",29),l.Sb(1,"ion-icon",30),l.Ic(2),l.kc(3,"translate"),l.Wb()),2&n&&(l.Fb(2),l.Kc(" ",l.lc(3,1,"IMPORT_WALLET_MNEMONIC.WORDS_TOO_MANY")," "))}var p=function(n,t){return{"error-border":n,"valid-border":t}};function _(n,t){if(1&n){var o=l.Yb();l.Xb(0,"ion-row"),l.Xb(1,"ion-col"),l.Xb(2,"ion-item",31),l.Xb(3,"ion-input",32),l.fc("ngModelChange",(function(n){l.Ac(o);var r=t.$implicit;return l.jc().words[2*r]=n}))("ngModelChange",(function(){return l.Ac(o),l.jc().onChangePerWord()})),l.Wb(),l.Wb(),l.Wb(),l.Xb(4,"ion-col"),l.Xb(5,"ion-item",31),l.Xb(6,"ion-input",32),l.fc("ngModelChange",(function(n){l.Ac(o);var r=t.$implicit;return l.jc().words[2*r+1]=n}))("ngModelChange",(function(){return l.Ac(o),l.jc().onChangePerWord()})),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&n){var r=t.$implicit,e=l.jc();l.Fb(2),l.pc("ngClass",l.uc(8,p,!e.validword[2*r],e.validword[2*r])),l.Fb(1),l.rc("name","word",2*r,""),l.qc("placeholder",2*r+1),l.pc("ngModel",e.words[2*r]),l.Fb(2),l.pc("ngClass",l.uc(11,p,!e.validword[2*r+1],e.validword[2*r+1])),l.Fb(1),l.rc("name","word",2*r+1,""),l.qc("placeholder",2*r+2),l.pc("ngModel",e.words[2*r+1])}}function M(n,t){1&n&&l.Sb(0,"h4",33)}function O(n,t){1&n&&l.Sb(0,"h4",34)}var T,v,W,I=function(n){return{"error-border":n}},C=function(){return[0,1,2,3,4,5,6,7,8,9,10,11]},E=[{path:"",component:(T=function(){function o(t,r,e){n(this,o),this.mvs=t,this.platform=r,this.router=e,this.words={},this.validword={},this.amount_words=0,this.first_wrong=0,this.validmnemonic=!1;for(var i=0;i<24;i++)this.words[i]="",this.validword[i]=!1;this.wordslist=t.getdictionary("EN")}var r,e,i;return r=o,(e=[{key:"ngOnInit",value:function(){}},{key:"clear",value:function(){for(var n=0;n<24;n++)this.words[n]="",this.validword[n]=!1;this.all_words="",this.amount_words=0,this.first_wrong=0,this.validmnemonic=!1}},{key:"import",value:function(){var n=this,t="";Object.keys(this.words).forEach((function(o){n.words[o]=n.words[o].trim(),t+=String(n.words[o]).toLowerCase()+" "})),t=t.trim(),this.router.navigate(["login","passphrase"],{state:{data:{mnemonic:t}}})}},{key:"onChange",value:function(){var n=this;this.fromStringToArray(this.all_words).then((function(t){return n.checkWords(t)})).then((function(t){return n.validMnemonic(t)})).catch((function(n){console.log("onChange did not pass",n)}))}},{key:"onChangePerWord",value:function(){var n=this;this.fromObjectToArray(this.words).then((function(t){return n.checkWords(t)})).then((function(t){return n.validMnemonic(t)})).catch((function(n){console.log("onChangePerWord did not pass",n)}))}},{key:"fromStringToArray",value:function(n){var t=this,o=n.trim(),r=(o=(o=o.toLowerCase()).replace(/\s{2,}/g," ")).split(" ");return new Promise((function(o,e){if(n){t.words=[];for(var i=0;i<24;i++)t.words[i]=r[i]?r[i]:"";o(r)}else t.clear()}))}},{key:"fromObjectToArray",value:function(n){var t=this,o="",r=[];return new Promise((function(e,i){if(n){for(var a=0;a<24;a++)n[a]&&(o+=n[a].toLowerCase()+" ",r.push(n[a].toLowerCase()));t.all_words=o.trim(),e(r)}else t.clear()}))}},{key:"checkWords",value:function(n){var t=this;return new Promise((function(o,r){if(n){t.first_wrong=-1,t.amount_words=n.length;for(var e=0;e<n.length;e++)t.validword[e]=-1!==t.wordslist.indexOf(n[e]),-1!==t.first_wrong||t.validword[e]||(t.first_wrong=e);o([t.amount_words,t.first_wrong])}else t.clear()}))}},{key:"validMnemonic",value:function(n){var t=this;return new Promise((function(o,r){var e=n[0],i=n[1],a=t.all_words.trim();a=(a=a.toLowerCase()).replace(/\s{2,}/g," "),24===e&&(-1===i||i>=24)?(t.validmnemonic=t.mvs.checkmnemonic(a,t.wordslist),o(t.validmnemonic)):(t.validmnemonic=!1,o(t.validmnemonic))}))}}])&&t(r.prototype,e),i&&t(r,i),o}(),T.\u0275fac=function(n){return new(n||T)(l.Rb(b.a),l.Rb(c.eb),l.Rb(s.h))},T.\u0275cmp=l.Lb({type:T,selectors:[["app-import-backup"]],decls:45,vars:20,consts:[["slot","start"],["defaultHref","/login/open"],["translate","IMPORT_WALLET_MNEMONIC.TITLE"],["size-md","12","size-lg","6","offset-lg","3"],["translate","IMPORT_WALLET_MNEMONIC.TWO_WAYS_TITLE",1,"center-text","info"],["translate","IMPORT_WALLET_MNEMONIC.VIA_TEXTBOX",1,"center-text","info"],[1,"textareaCard",3,"ngClass"],["fz-elastic","","rows","3","type","text","name","all_words",1,"textbox",3,"ngModel","ngModelChange"],["translate","IMPORT_WALLET_MNEMONIC.WORDS_REMAINING",3,"translateParams",4,"ngIf"],["class","valid-input",4,"ngIf"],["class","wrong-input",4,"ngIf"],[1,"center-text","info"],["item-center","",1,"center-text"],[3,"ngSubmit"],["importForm","ngForm"],[4,"ngFor","ngForOf"],[1,"buttons"],["size","6"],["color","danger","expand","full","fill","outline","shape","round","type","button",3,"click"],["slot","start","name","trash"],["translate","IMPORT_WALLET_MNEMONIC.RESET"],["color","secondary","expand","full","fill","outline","shape","round","type","submit",3,"disabled"],["slot","start","name","download"],["translate","IMPORT_WALLET_MNEMONIC.IMPORT_BUTTON"],["class","center-text wallet-create","translate","IMPORT_WALLET_MNEMONIC.BOTTOM_TEXT",4,"ngIf"],["class","center-text wallet-create","translate","IMPORT_WALLET_MNEMONIC.BOTTOM_TEXT_MOBILE",4,"ngIf"],["translate","IMPORT_WALLET_MNEMONIC.WORDS_REMAINING",3,"translateParams"],[1,"valid-input"],["name","checkmark"],[1,"wrong-input"],["name","close"],[3,"ngClass"],["type","text","large","","required","",3,"name","placeholder","ngModel","ngModelChange"],["translate","IMPORT_WALLET_MNEMONIC.BOTTOM_TEXT",1,"center-text","wallet-create"],["translate","IMPORT_WALLET_MNEMONIC.BOTTOM_TEXT_MOBILE",1,"center-text","wallet-create"]],template:function(n,t){if(1&n&&(l.Xb(0,"ion-header"),l.Xb(1,"ion-toolbar"),l.Xb(2,"ion-buttons",0),l.Sb(3,"ion-back-button",1),l.Wb(),l.Sb(4,"ion-title",2),l.Wb(),l.Wb(),l.Xb(5,"ion-content"),l.Xb(6,"ion-grid"),l.Xb(7,"ion-row"),l.Xb(8,"ion-col",3),l.Xb(9,"ion-row"),l.Sb(10,"h2",4),l.Wb(),l.Xb(11,"ion-row"),l.Sb(12,"h2",5),l.Wb(),l.Xb(13,"ion-row"),l.Xb(14,"ion-item",6),l.Xb(15,"ion-textarea",7),l.fc("ngModelChange",(function(n){return t.all_words=n}))("ngModelChange",(function(){return t.onChange()})),l.Wb(),l.Wb(),l.Wb(),l.Xb(16,"ion-row"),l.Gc(17,f,1,3,"h2",8),l.Gc(18,m,4,3,"h2",9),l.Gc(19,w,4,3,"h2",10),l.Gc(20,g,4,4,"h2",10),l.Gc(21,h,4,3,"h2",10),l.Wb(),l.Xb(22,"ion-row"),l.Xb(23,"h2",11),l.Ic(24),l.kc(25,"translate"),l.Wb(),l.Wb(),l.Xb(26,"ion-row"),l.Xb(27,"h2",12),l.Ic(28),l.kc(29,"translate"),l.Wb(),l.Wb(),l.Xb(30,"form",13,14),l.fc("ngSubmit",(function(){return t.import()})),l.Gc(32,_,7,14,"ion-row",15),l.Xb(33,"ion-row",16),l.Xb(34,"ion-col",17),l.Xb(35,"ion-button",18),l.fc("click",(function(){return t.clear()})),l.Sb(36,"ion-icon",19),l.Sb(37,"span",20),l.Wb(),l.Wb(),l.Xb(38,"ion-col",17),l.Xb(39,"ion-button",21),l.Sb(40,"ion-icon",22),l.Sb(41,"span",23),l.Wb(),l.Wb(),l.Wb(),l.Xb(42,"ion-row"),l.Gc(43,M,1,0,"h4",24),l.Gc(44,O,1,0,"h4",25),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&n){var o=l.yc(31);l.Fb(14),l.pc("ngClass",l.tc(17,I,!t.validmnemonic)),l.Fb(1),l.pc("ngModel",t.all_words),l.Fb(2),l.pc("ngIf",t.amount_words<24),l.Fb(1),l.pc("ngIf",t.validmnemonic),l.Fb(1),l.pc("ngIf",24==t.amount_words&&(-1==t.first_wrong||t.first_wrong>=24)&&!t.validmnemonic),l.Fb(1),l.pc("ngIf",24==t.amount_words&&-1!==t.first_wrong&&t.first_wrong<24),l.Fb(1),l.pc("ngIf",t.amount_words>24),l.Fb(3),l.Kc("-",l.lc(25,13,"IMPORT_WALLET_MNEMONIC.OR"),"-"),l.Fb(4),l.Jc(l.lc(29,15,"IMPORT_WALLET_MNEMONIC.WORD_BY_WORD")),l.Fb(4),l.pc("ngForOf",l.sc(19,C)),l.Fb(7),l.pc("disabled",!o.form.valid||!t.validmnemonic),l.Fb(4),l.pc("ngIf",!t.platform.is("mobile")),l.Fb(1),l.pc("ngIf",t.platform.is("mobile"))}},directives:[c.u,c.X,c.j,c.f,c.g,c.V,u.a,c.r,c.t,c.K,c.q,c.x,i.k,c.U,c.hb,a.i,a.l,i.m,a.p,a.j,a.k,i.l,c.i,c.v,c.w,a.n],pipes:[u.d],styles:[".buttons[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:25px}.center-text[_ngcontent-%COMP%]{text-align:center;margin:auto}.wallet-create[_ngcontent-%COMP%]{margin-bottom:50px}.info[_ngcontent-%COMP%]{margin-top:20px!important}.textareaCard[_ngcontent-%COMP%]{font-size:1.3em;width:100%}"]}),T)}],L=((W=function t(){n(this,t)}).\u0275mod=l.Pb({type:W}),W.\u0275inj=l.Ob({factory:function(n){return new(n||W)},imports:[[s.j.forChild(E)],s.j]}),W),N=((v=function t(){n(this,t)}).\u0275mod=l.Pb({type:v}),v.\u0275inj=l.Ob({factory:function(n){return new(n||v)},imports:[[i.c,a.e,c.Y,u.c.forChild(),L]]}),v)}}])}();