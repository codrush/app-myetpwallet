!function(){function n(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var t=[],i=!0,r=!1,o=void 0;try{for(var c,a=n[Symbol.iterator]();!(i=(c=a.next()).done)&&(t.push(c.value),!e||t.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return t}(n,t)||function(n,t){if(!n)return;if("string"==typeof n)return e(n,t);var i=Object.prototype.toString.call(n).slice(8,-1);"Object"===i&&n.constructor&&(i=n.constructor.name);if("Map"===i||"Set"===i)return Array.from(n);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function i(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{jcJX:function(e,r,o){"use strict";o.r(r),o.d(r,"AccountPageModule",(function(){return X}));var c=o("ofXK"),a=o("3Pt+"),l=o("TEn/"),u=o("tyNb"),s=o("mrSG"),f=o("pLZG"),d=o("fXoL"),b=o("BZA/"),h=o("Fvwb"),p=o("B180"),m=o("OaWH"),g=o("sYmb");function v(n,e){1&n&&d.Sb(0,"ion-icon",15)}function y(n,e){1&n&&(d.Xb(0,"div",4),d.Sb(1,"ion-icon",16),d.Wb())}var S=function(n){return{height:n}};function I(n,e){if(1&n&&d.Sb(0,"span",17),2&n){var t=d.jc();d.pc("translateParams",d.tc(1,S,t.height))}}function M(n,e){1&n&&d.Sb(0,"ion-progress-bar",18)}var P=function(n){return[n]};function w(n,e){if(1&n&&(d.Xb(0,"ion-menu-toggle",19),d.Xb(1,"ion-item",20),d.Sb(2,"ion-icon",21),d.Xb(3,"ion-label"),d.Ic(4),d.kc(5,"translate"),d.Wb(),d.Wb(),d.Wb()),2&n){var t=e.$implicit;d.Fb(1),d.pc("routerLink",d.tc(7,P,t.url)),d.Fb(1),d.pc("color",t.selected?"primary":"none")("ios",t.icon+"-outline")("md",t.icon+"-sharp"),d.Fb(2),d.Jc(d.lc(5,5,t.title))}}function E(n,e){if(1&n&&(d.Xb(0,"ion-menu-toggle",19),d.Xb(1,"ion-item",20),d.Sb(2,"ion-icon",21),d.Xb(3,"ion-label"),d.Ic(4),d.kc(5,"translate"),d.Wb(),d.Wb(),d.Wb()),2&n){var t=e.$implicit;d.Fb(1),d.pc("routerLink",d.tc(7,P,t.url)),d.Fb(1),d.pc("color",t.selected?"primary":"none")("ios",t.icon+"-outline")("md",t.icon+"-sharp"),d.Fb(2),d.Jc(d.lc(5,5,t.title))}}function N(n,e){if(1&n&&(d.Xb(0,"ion-menu-toggle",19),d.Xb(1,"ion-item",20),d.Sb(2,"ion-icon",21),d.Xb(3,"ion-label"),d.Ic(4),d.kc(5,"translate"),d.Wb(),d.Wb(),d.Wb()),2&n){var t=e.$implicit;d.Fb(1),d.pc("routerLink",d.tc(7,P,t.url)),d.Fb(1),d.pc("color",t.selected?"primary":"none")("ios",t.icon+"-outline")("md",t.icon+"-sharp"),d.Fb(2),d.Jc(d.lc(5,5,t.title))}}var C,W,k,F=[{path:"",component:(C=function(){function e(n,i,r,o,c,a){var l=this;t(this,e),this.metaverseService=n,this.platform=i,this.walletService=r,this.router=o,this.logoutService=c,this.globals=a,this.syncing=!1,this.syncingSmall=!1,this.offline=!1,this.selectedIndex=0,this.appItems=[{title:"BITIDENT.MENU_ENTRY",url:"/account/bitident",icon:"finger-print"},{title:"SWFT.MENU_ENTRY",url:"/account/swft",icon:"swap-horizontal"}],this.footerItems=[{title:"SETTINGS.MENU_ENTRY",url:"/account/settings",icon:"options"}],this.mainItems=[{title:"ACCOUNT.MENU_ENTRY",url:"/account/portfolio",icon:"home",selected:!1},{title:"IDENTITIES.MENU_ENTRY",url:"/account/identities",icon:"person"},{title:"SWAP.MENU_ENTRY",url:"/account/swap",icon:"arrow-back"},{title:"MST.MENU_ENTRY",url:"/account/mst",icon:"globe"},{title:"MIT.MENU_ENTRY",url:"/account/mit",icon:"create"},{title:"HISTORY.MENU_ENTRY",url:"/account/history",icon:"time"},{title:"ADVANCED.MENU_ENTRY",url:"/account/advanced",icon:"cog"}],this.update=function(){return Object(s.a)(l,void 0,void 0,regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.metaverseService.getUpdateNeeded();case 2:if(!n.sent){n.next=6;break}n.t0=this.sync().then((function(){return e.metaverseService.setUpdateTime()})).catch((function(){return console.log("Can't update")})),n.next=7;break;case 6:n.t0=null;case 7:return n.abrupt("return",n.t0);case 8:case"end":return n.stop()}}),n,this)})))},this.isOffline=function(){return!l.syncingSmall&&l.offline},this.isSyncing=function(){return l.syncingSmall},this.routerSubscription$=this.router.events.pipe(Object(f.a)((function(n){return n instanceof u.c}))).subscribe((function(n){l.appItems.forEach((function(e){e.selected=!!n.url.startsWith(e.url)})),l.mainItems.forEach((function(e){e.selected=!!n.url.startsWith(e.url)})),l.footerItems.forEach((function(e){e.selected=!!n.url.startsWith(e.url)}))})),this.readySubscription$=this.metaverseService.ready$.pipe(Object(f.a)((function(n){return n}))).subscribe((function(){var n=new Date;l.metaverseService.setUpdateTime(n),l.sync(),l.metaverseService.updateFees(),l.syncinterval=setInterval((function(){return l.update()}),5e3)}))}var r,o,c;return r=e,(o=[{key:"ngOnInit",value:function(){var n=this;this.walletService.hasSeed().then((function(e){return n.hasSeed=e})),this.metaverseService.getDbUpdateNeeded().then((function(e){e&&n.router.navigate(["/loading"],{state:{data:{reset:!1}}})})).then((function(){return n.update()}))}},{key:"ionViewWillLeave",value:function(){this.readySubscription$&&this.readySubscription$.unsubscribe(),clearInterval(this.syncinterval)}},{key:"ionViewWillEnter",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.sync();case 1:case"end":return n.stop()}}),n,this)})))}},{key:"ngOnDestroy",value:function(){this.routerSubscription$&&this.routerSubscription$.unsubscribe()}},{key:"sync",value:function(){var e=this;return this.syncing?(this.syncingSmall=!1,Promise.resolve()):(this.syncing=!0,this.syncingSmall=!0,Promise.all([this.metaverseService.getData(),this.metaverseService.updateHeight()]).then((function(t){var i=n(t,2),r=(i[0],i[1]);e.height=r,e.syncing=!1,e.syncingSmall=!1,e.offline=!1})).catch((function(n){console.error(n),e.syncing=!1,e.syncingSmall=!1,e.offline=!0})))}},{key:"logout",value:function(){this.logoutService.logout()}}])&&i(r.prototype,o),c&&i(r,c),e}(),C.\u0275fac=function(n){return new(n||C)(d.Rb(b.a),d.Rb(l.eb),d.Rb(h.a),d.Rb(u.h),d.Rb(p.a),d.Rb(m.a))},C.\u0275cmp=d.Lb({type:C,selectors:[["app-account"]],decls:25,vars:11,consts:[["contentId","main-content"],["contentId","main-content","type","overlay"],[1,"main-menu"],["src","/assets/logo.png","alt","Metaverse",1,"logo"],[1,"center"],["slot","start","name","eye",4,"ngIf"],["id","inbox-list"],["class","center",4,"ngIf"],[1,"center",3,"click"],["translate","MAIN_MENU.HEIGHT",3,"translateParams",4,"ngIf"],[1,"sync-divider","noPadding"],["class","sync-bar","type","indeterminate",4,"ngIf"],["auto-hide","false",4,"ngFor","ngForOf"],["translate","MAIN_MENU.APPS"],["id","main-content"],["slot","start","name","eye"],["color","danger","name","flash","size","large"],["translate","MAIN_MENU.HEIGHT",3,"translateParams"],["type","indeterminate",1,"sync-bar"],["auto-hide","false"],["lines","none","detail","false","routerDirection","root",3,"routerLink"],["slot","start",3,"color","ios","md"]],template:function(n,e){1&n&&(d.Xb(0,"ion-split-pane",0),d.Xb(1,"ion-menu",1),d.Xb(2,"ion-content",2),d.Sb(3,"img",3),d.Xb(4,"div",4),d.Ic(5),d.Gc(6,v,1,0,"ion-icon",5),d.Xb(7,"div"),d.Ic(8),d.kc(9,"async"),d.Wb(),d.Wb(),d.Xb(10,"ion-list",6),d.Gc(11,y,2,0,"div",7),d.Xb(12,"ion-buttons"),d.Xb(13,"ion-button",8),d.fc("click",(function(){return e.sync()})),d.Gc(14,I,1,3,"span",9),d.Wb(),d.Wb(),d.Xb(15,"ion-item-divider",10),d.Gc(16,M,1,0,"ion-progress-bar",11),d.Wb(),d.Gc(17,w,6,9,"ion-menu-toggle",12),d.Xb(18,"ion-item-divider"),d.Xb(19,"ion-label"),d.Sb(20,"ion-note",13),d.Wb(),d.Wb(),d.Gc(21,E,6,9,"ion-menu-toggle",12),d.Wb(),d.Wb(),d.Xb(22,"ion-footer"),d.Gc(23,N,6,9,"ion-menu-toggle",12),d.Wb(),d.Wb(),d.Sb(24,"ion-router-outlet",14),d.Wb()),2&n&&(d.Fb(5),d.Kc(" v",e.globals.version," "),d.Fb(1),d.pc("ngIf",!e.hasSeed),d.Fb(2),d.Jc("testnet"===d.lc(9,9,e.globals.network$)?"testnet":""),d.Fb(3),d.pc("ngIf",e.isOffline()),d.Fb(3),d.pc("ngIf",e.height),d.Fb(2),d.pc("ngIf",e.isSyncing()||!e.height),d.Fb(1),d.pc("ngForOf",e.mainItems),d.Fb(4),d.pc("ngForOf",e.appItems),d.Fb(2),d.pc("ngForOf",e.footerItems))},directives:[l.S,l.B,l.r,c.m,l.A,l.j,l.i,l.y,c.l,l.z,l.E,g.a,l.s,l.J,l.v,l.F,l.D,l.x,l.fb,u.i],pipes:[c.b,g.d],styles:[".logo[_ngcontent-%COMP%]{max-width:256px;margin:14px;pointer-events:none}ion-split-pane[_ngcontent-%COMP%]{--side-max-width:320px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sync-divider[_ngcontent-%COMP%]{background-color:transparent}"]}),C),children:[{path:"history",loadChildren:function(){return Promise.all([o.e(4),o.e(0),o.e(38)]).then(o.bind(null,"CN/o")).then((function(n){return n.HistoryPageModule}))}},{path:"identities",loadChildren:function(){return Promise.all([o.e(3),o.e(0),o.e(20)]).then(o.bind(null,"wEKJ")).then((function(n){return n.IdentitiesPageModule}))}},{path:"send",loadChildren:function(){return Promise.all([o.e(1),o.e(0),o.e(24)]).then(o.bind(null,"VNuW")).then((function(n){return n.SendPageModule}))}},{path:"mst",loadChildren:function(){return Promise.all([o.e(0),o.e(21)]).then(o.bind(null,"JLTk")).then((function(n){return n.MstPageModule}))}},{path:"mit",loadChildren:function(){return o.e(27).then(o.bind(null,"Cyv5")).then((function(n){return n.MitPageModule}))}},{path:"portfolio",loadChildren:function(){return Promise.all([o.e(0),o.e(22)]).then(o.bind(null,"f4Sq")).then((function(n){return n.PortfolioPageModule}))}},{path:"confirm",loadChildren:function(){return Promise.all([o.e(4),o.e(37)]).then(o.bind(null,"ktNH")).then((function(n){return n.ConfirmPageModule}))}},{path:"settings",loadChildren:function(){return o.e(0).then(o.bind(null,"7wo0")).then((function(n){return n.SettingsPageModule}))}},{path:"bitident",loadChildren:function(){return Promise.all([o.e(1),o.e(35)]).then(o.bind(null,"CvKF")).then((function(n){return n.BitidentPageModule}))}},{path:"swft",loadChildren:function(){return Promise.all([o.e(1),o.e(3),o.e(0),o.e(16)]).then(o.bind(null,"VMct")).then((function(n){return n.SwftPageModule}))}},{path:"advanced",loadChildren:function(){return o.e(29).then(o.bind(null,"u/Fq")).then((function(n){return n.AdvancedPageModule}))}},{path:"vote",loadChildren:function(){return o.e(25).then(o.bind(null,"jUXg")).then((function(n){return n.VotePageModule}))}},{path:"swap",loadChildren:function(){return o.e(15).then(o.bind(null,"MUVa")).then((function(n){return n.SwapPageModule}))}},{path:"send-vm",loadChildren:function(){return Promise.all([o.e(1),o.e(0),o.e(23)]).then(o.bind(null,"/wb0")).then((function(n){return n.SendVmPageModule}))}},{path:"confirm-vm",loadChildren:function(){return Promise.all([o.e(0),o.e(19)]).then(o.bind(null,"grBA")).then((function(n){return n.ConfirmVmPageModule}))}}]}],T=((k=function n(){t(this,n)}).\u0275mod=d.Pb({type:k}),k.\u0275inj=d.Ob({factory:function(n){return new(n||k)},imports:[[u.j.forChild(F)],u.j]}),k),X=((W=function n(){t(this,n)}).\u0275mod=d.Pb({type:W}),W.\u0275inj=d.Ob({factory:function(n){return new(n||W)},imports:[[c.c,a.e,l.Y,g.c.forChild(),T]]}),W)}}])}();