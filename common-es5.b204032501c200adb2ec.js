!function(){function t(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function e(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,c,"next",e)}function c(e){t(o,i,a,s,c,"throw",e)}s(void 0)}))}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2c9M":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return s}));var r={getEngine:function(){var t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available:function(){return!!this.getEngine()},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(t){var e=this.getEngine();if(e){var n=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:n})}},notification:function(t){var e=this.getEngine();if(e){var n=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:n})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},i=function(){r.selection()},a=function(){r.selectionStart()},o=function(){r.selectionChanged()},s=function(){r.selectionEnd()},c=function(t){r.impact(t)}},"3LUQ":function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var a=r("mrSG"),o=r("fXoL"),s=r("TEn/"),c=r("sYmb"),u=function(){var t=function(){function t(e,r,i){n(this,t),this.alertCtrl=e,this.loadingCtrl=r,this.translate=i}return i(t,[{key:"stopLoading",value:function(){this.loading&&this.loading.dismiss()}},{key:"showLoading",value:function(t,e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=this.loadingCtrl,n.t1=e||"circular",n.next=4,this.translate.get(t||"MESSAGE.LOADING").toPromise();case 4:return n.t2=n.sent,n.t3={spinner:n.t1,message:n.t2},n.next=8,n.t0.create.call(n.t0,n.t3);case 8:return this.loading=n.sent,n.next=11,this.loading.present();case 11:return n.abrupt("return",this.loading);case 12:case"end":return n.stop()}}),n,this)})))}},{key:"askPassphrase",value:function(t,e){var n=this;this.translate.get(["PASSWORD","OK","CANCEL",t]).subscribe((function(r){return Object(a.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertCtrl.create({header:r.PASSWORD,subHeader:r[t],backdropDismiss:!1,inputs:[{name:"passphrase",placeholder:r.PASSWORD,type:"password"}],buttons:[{text:r.CANCEL,role:"cancel",handler:function(t){return e()}},{text:r.OK,handler:function(t){return e(t.passphrase)}}]});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}))}},{key:"askInfo",value:function(t,e,n,r,i){var o=this;this.translate.get(["OK","CANCEL",t,e,n]).subscribe((function(s){return Object(a.a)(o,void 0,void 0,regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.alertCtrl.create({header:s[t],message:s[e],backdropDismiss:!1,inputs:[{name:"info",placeholder:s[n],type:r}],buttons:[{text:s.CANCEL,role:"cancel"},{text:s.OK,handler:function(t){return i(t.info)}}]});case 2:a.sent.present();case 3:case"end":return a.stop()}}),a,this)})))}))}},{key:"ask2Info",value:function(t,e,n,r,i,o,s){var c=this;this.translate.get(["OK","CANCEL",t,e,n,r]).subscribe((function(u){return Object(a.a)(c,void 0,void 0,regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.alertCtrl.create({header:u[t],message:u[e],backdropDismiss:!1,inputs:[{name:"info1",placeholder:u[n],type:i},{name:"info2",placeholder:u[r],type:o}],buttons:[{text:u.CANCEL,role:"cancel"},{text:u.OK,handler:function(t){return s(t)}}]});case 2:a.sent.present();case 3:case"end":return a.stop()}}),a,this)})))}))}},{key:"showError",value:function(t,e){var n=this;this.translate.get(["MESSAGE.ERROR_TITLE",t,"OK"]).subscribe((function(r){return Object(a.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertCtrl.create({header:r["MESSAGE.ERROR_TITLE"],subHeader:r[t],message:e,buttons:[{text:r.OK}]});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}))}},{key:"showErrorTranslated",value:function(t,e){var n=this;this.translate.get(["MESSAGE.ERROR_TITLE",t,e,"OK"]).subscribe((function(r){return Object(a.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertCtrl.create({header:r["MESSAGE.ERROR_TITLE"],subHeader:r[t],message:r[e],buttons:[{text:r.OK}]});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}))}},{key:"showMessage",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"MESSAGE.OK";this.translate.get([t,e,n,i]).subscribe((function(o){return Object(a.a)(r,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertCtrl.create({header:o[t],subHeader:o[e]||e,message:o[n]||n,buttons:[{text:o[i]}]});case 2:r.sent.present();case 3:case"end":return r.stop()}}),r,this)})))}))}},{key:"showLimitReached",value:function(t,e,n){var r=this;this.translate.get([t,e,"MESSAGE.OK"]).subscribe((function(i){return Object(a.a)(r,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertCtrl.create({header:i[t],message:i[e]+n,buttons:[{text:i["MESSAGE.OK"]}]});case 2:r.sent.present();case 3:case"end":return r.stop()}}),r,this)})))}))}},{key:"showCheckbox",value:function(t,e,n,r,i){var o=this;this.translate.get(["OK",t,e,n]).subscribe((function(s){return Object(a.a)(o,void 0,void 0,regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.alertCtrl.create({header:s[t],message:s[e],backdropDismiss:!1,inputs:[{name:"checkbox",type:"checkbox",label:s[n],value:"checked",checked:r}],buttons:[{text:s.OK,handler:function(t){return i(t&&t.length>0)}}]});case 2:a.sent.present();case 3:case"end":return a.stop()}}),a,this)})))}))}},{key:"confirm",value:function(t,e,n,r,i,o){var s=this;this.translate.get([e,n,r,i,o]).subscribe((function(c){return Object(a.a)(s,void 0,void 0,regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.alertCtrl.create({header:c[e],subHeader:c[n],message:c[r],buttons:[{text:c[o]},{text:c[i],handler:t}]});case 2:a.sent.present();case 3:case"end":return a.stop()}}),a,this)})))}))}},{key:"alertConfirm",value:function(t,e,n,r){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,o,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.translate.get([t,e,n,r]).toPromise();case 2:return o=i.sent,i.next=5,this.alertCtrl.create({cssClass:"my-custom-class",header:o[t],message:o[e],buttons:[{text:o[n],role:"cancel",cssClass:"secondary",handler:function(){return s.dismiss(!1),!1}},{text:o[r],handler:function(){return s.dismiss(!0),!1}}]});case 5:return s=i.sent,i.next=8,s.present();case 8:return i.next=10,s.onDidDismiss().then((function(t){a=!0===t.data}));case 10:return i.abrupt("return",a);case 11:case"end":return i.stop()}}),i,this)})))}},{key:"alertTripleChoice",value:function(t,e,n,r,i){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function a(){var o,s,c;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.translate.get([t,e,n,r,i]).toPromise();case 2:return s=a.sent,a.next=5,this.alertCtrl.create({cssClass:"my-custom-class",header:s[t],message:s[e],buttons:[{text:s[n],cssClass:"secondary",handler:function(){return c.dismiss("cancel"),!1}},{text:s[r],handler:function(){return c.dismiss("option1"),!1}},{text:s[i],handler:function(){return c.dismiss("option2"),!1}}]});case 5:return c=a.sent,a.next=8,c.present();case 8:return a.next=10,c.onDidDismiss().then((function(t){o=t.data}));case 10:return a.abrupt("return",o);case 11:case"end":return a.stop()}}),a,this)})))}},{key:"alertTripleChoiceAndInput",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GLOBAL.CANCEL",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function a(){var c,u,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.translate.get([t,e,n,r,i,o]).toPromise();case 2:return u=a.sent,a.next=5,this.alertCtrl.create({cssClass:"my-custom-class",header:u[t],message:u[e],inputs:[{name:"info",placeholder:u[o],type:s}],buttons:[{text:u[n],cssClass:"secondary",handler:function(t){return l.dismiss(["cancel",t.info]),!1}},{text:u[r],handler:function(t){return l.dismiss(["option1",t.info]),!1}},{text:u[i],handler:function(t){return l.dismiss(["option2",t.info]),!1}}]});case 5:return l=a.sent,a.next=8,l.present();case 8:return a.next=10,l.onDidDismiss().then((function(t){t&&t.data&&(c={choice:t.data[0],input:t.data[1]})}));case 10:return a.abrupt("return",c);case 11:case"end":return a.stop()}}),a,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(s.b),o.bc(s.ab),o.bc(c.e))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"6i10":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={bubbles:{dur:1e3,circles:9,fn:function(t,e,n){var r=t*e/n-t+"ms",i=2*Math.PI*e/n;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:function(t,e,n){var r=e/n,i=t*r-t+"ms",a=2*Math.PI*r;return{r:5,style:{top:9*Math.sin(a)+"px",left:9*Math.cos(a)+"px","animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(t,e){return{r:6,style:{left:9-9*e+"px","animation-delay":-110*e+"ms"}}}},lines:{dur:1e3,lines:12,fn:function(t,e,n){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*e+(e<6?180:-180),"deg)"),"animation-delay":t*e/n-t+"ms"}}}},"lines-small":{dur:1e3,lines:12,fn:function(t,e,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*e+(e<6?180:-180),"deg)"),"animation-delay":t*e/n-t+"ms"}}}}}},"7wo0":function(t,e,r){"use strict";r.r(e),r.d(e,"SettingsPageModule",(function(){return C}));var a=r("ofXK"),o=r("3Pt+"),s=r("TEn/"),c=r("tyNb"),u=r("mrSG"),l=r("fXoL"),f=r("B180"),d=r("OaWH"),h=r("Fvwb"),p=r("sYmb");function b(t,e){1&t&&l.Sb(0,"ion-back-button",19)}function m(t,e){if(1&t){var n=l.Yb();l.Xb(0,"ion-item",9),l.fc("click",(function(){return l.Ac(n),l.jc().reset()})),l.Sb(1,"ion-icon",20),l.Xb(2,"ion-label"),l.Sb(3,"h1",21),l.Sb(4,"p",22),l.Wb(),l.Wb()}}function v(t,e){1&t&&(l.Xb(0,"ion-item",23),l.Sb(1,"ion-icon",24),l.Xb(2,"ion-label"),l.Sb(3,"h1",25),l.Sb(4,"p",26),l.Wb(),l.Wb())}function g(t,e){1&t&&(l.Xb(0,"ion-item",27),l.Sb(1,"ion-icon",28),l.Xb(2,"ion-label"),l.Sb(3,"h1",29),l.Sb(4,"p",30),l.Wb(),l.Wb())}function S(t,e){if(1&t){var n=l.Yb();l.Xb(0,"ion-item",9),l.fc("click",(function(){return l.Ac(n),l.jc().logout()})),l.Sb(1,"ion-icon",31),l.Xb(2,"ion-label"),l.Sb(3,"h1",32),l.Sb(4,"p",33),l.Wb(),l.Wb()}}var O,T,k,E=[{path:"",component:(O=function(){function t(e,r,i,a,o){n(this,t),this.platform=e,this.logoutService=r,this.appService=i,this.router=a,this.walletService=o,this.darkTheme=document.body.classList.contains("dark"),this.loggedIn=!1}return i(t,[{key:"ngOnInit",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.appService.getNetwork();case 2:this.network=t.sent,this.loggedIn="account"===this.router.url.split("/")[1];case 4:case"end":return t.stop()}}),t,this)})))}},{key:"reset",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.router.navigate(["/loading"],{state:{data:{reset:!0}}});case 1:case"end":return t.stop()}}),t,this)})))}},{key:"logout",value:function(){this.logoutService.logout()}},{key:"updateTheme",value:function(){this.darkTheme=!this.darkTheme,this.darkTheme?(document.body.classList.add("dark"),this.walletService.setTheme("dark")):(document.body.classList.remove("dark"),this.walletService.setTheme("light"))}}]),t}(),O.\u0275fac=function(t){return new(t||O)(l.Rb(s.eb),l.Rb(f.a),l.Rb(d.a),l.Rb(c.h),l.Rb(h.a))},O.\u0275cmp=l.Lb({type:O,selectors:[["app-settings"]],decls:28,vars:6,consts:[["slot","start"],["defaultHref","/login",4,"ngIf"],["translate","SETTINGS.TITLE"],["button","",3,"click",4,"ngIf"],["routerLink","export-mobile",4,"ngIf"],["routerLink","language"],["name","flag"],["translate","SETTINGS.LANGUAGE.TITLE"],["translate","SETTINGS.LANGUAGE.SUBTITLE"],["button","",3,"click"],["name","moon"],["translate","SETTINGS.THEME.TITLE"],["translate","SETTINGS.THEME.SUBTITLE"],["id","themeToggle","slot","end",3,"ngModel","ngModelChange","click"],["routerLink","base-currency","button","",4,"ngIf"],["button","","routerLink","/info"],["name","information"],["translate","INFO.TITLE"],["translate","INFO.SUBTITLE"],["defaultHref","/login"],["name","refresh"],["translate","SETTINGS.RESYNC.TITLE"],["translate","SETTINGS.RESYNC.SUBTITLE"],["routerLink","export-mobile"],["name","phone-portrait"],["translate","SETTINGS.EXPORT_MOBILE.TITLE"],["translate","SETTINGS.EXPORT_MOBILE.SUBTITLE"],["routerLink","base-currency","button",""],["name","logo-usd"],["translate","SETTINGS.BASE_CURRENCY.TITLE"],["translate","SETTINGS.BASE_CURRENCY.SUBTITLE"],["name","log-out"],["translate","SETTINGS.LOGOUT.TITLE"],["translate","SETTINGS.LOGOUT.SUBTITLE"]],template:function(t,e){1&t&&(l.Xb(0,"ion-header"),l.Xb(1,"ion-toolbar"),l.Xb(2,"ion-buttons",0),l.Sb(3,"ion-menu-button"),l.Gc(4,b,1,0,"ion-back-button",1),l.Wb(),l.Sb(5,"ion-title",2),l.Wb(),l.Wb(),l.Xb(6,"ion-content"),l.Xb(7,"ion-list"),l.Gc(8,m,5,0,"ion-item",3),l.Gc(9,v,5,0,"ion-item",4),l.Xb(10,"ion-item",5),l.Sb(11,"ion-icon",6),l.Xb(12,"ion-label"),l.Sb(13,"h1",7),l.Sb(14,"p",8),l.Wb(),l.Wb(),l.Xb(15,"ion-item",9),l.fc("click",(function(){return e.updateTheme()})),l.Sb(16,"ion-icon",10),l.Xb(17,"ion-label"),l.Sb(18,"h1",11),l.Sb(19,"p",12),l.Wb(),l.Xb(20,"ion-toggle",13),l.fc("ngModelChange",(function(t){return e.darkTheme=t}))("click",(function(){return e.updateTheme()})),l.Wb(),l.Wb(),l.Gc(21,g,5,0,"ion-item",14),l.Xb(22,"ion-item",15),l.Sb(23,"ion-icon",16),l.Xb(24,"ion-label"),l.Sb(25,"h1",17),l.Sb(26,"p",18),l.Wb(),l.Wb(),l.Gc(27,S,5,0,"ion-item",3),l.Wb(),l.Wb()),2&t&&(l.Fb(4),l.pc("ngIf",!e.loggedIn),l.Fb(4),l.pc("ngIf",e.loggedIn),l.Fb(1),l.pc("ngIf",e.loggedIn&&!e.platform.is("mobile")),l.Fb(11),l.pc("ngModel",e.darkTheme),l.Fb(1),l.pc("ngIf",e.loggedIn),l.Fb(6),l.pc("ngIf",e.loggedIn))},directives:[s.u,s.X,s.j,s.C,a.m,s.V,p.a,s.r,s.A,s.x,s.fb,c.i,s.v,s.z,s.W,s.c,o.i,o.l,s.f,s.g],styles:["h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-overflow:clip;white-space:normal}h1[_ngcontent-%COMP%]{margin:0}ion-icon[_ngcontent-%COMP%]{margin-right:20px}ion-item[_ngcontent-%COMP%]{cursor:pointer}"]}),O)},{path:"language",loadChildren:function(){return r.e(62).then(r.bind(null,"jGah")).then((function(t){return t.LanguagePageModule}))}},{path:"export-mobile",loadChildren:function(){return Promise.all([r.e(3),r.e(0),r.e(61)]).then(r.bind(null,"6iVq")).then((function(t){return t.ExportMobilePageModule}))}},{path:"base-currency",loadChildren:function(){return r.e(60).then(r.bind(null,"Yzsn")).then((function(t){return t.BaseCurrencyPageModule}))}}],y=((k=function t(){n(this,t)}).\u0275mod=l.Pb({type:k}),k.\u0275inj=l.Ob({factory:function(t){return new(t||k)},imports:[[c.j.forChild(E)],c.j]}),k),C=((T=function t(){n(this,t)}).\u0275mod=l.Pb({type:T}),T.\u0275inj=l.Ob({factory:function(t){return new(t||T)},imports:[[a.c,o.e,s.Y,p.c.forChild(),y]]}),T)},"9FR+":function(t,e,r){"use strict";r.d(e,"a",(function(){return R}));var a=r("mrSG"),o=r("fXoL"),s=r("TEn/"),c=r("3LUQ"),u=r("BZA/"),l=r("ofXK"),f=r("3Pt+"),d=r("sYmb");function h(t,e){if(1&t){var n=o.Yb();o.Xb(0,"ion-item",2),o.Xb(1,"ion-segment",3),o.fc("ngModelChange",(function(t){return o.Ac(n),o.jc().type=t}))("ngModelChange",(function(t){return o.Ac(n),o.jc().inputChange(t)})),o.Sb(2,"ion-segment-button",4),o.Sb(3,"ion-segment-button",5),o.Sb(4,"ion-segment-button",6),o.Wb(),o.Wb()}if(2&t){var r=o.jc();o.Fb(1),o.pc("ngModel",r.type)}}var p=function(t,e,n){return{blocktime:t,duration_days:e,duration_hours:n}};function b(t,e){if(1&t&&o.Sb(0,"ion-item",14),2&t){var n=o.jc(2);o.pc("translateParams",o.vc(1,p,n.blocktime,n.duration_days,n.duration_hours))}}var m=function(t,e){return{"error-border":t,"valid-border":e}};function v(t,e){if(1&t){var n=o.Yb();o.Xb(0,"ion-item",7),o.Sb(1,"ion-label",15),o.Xb(2,"ion-input",16),o.fc("ngModelChange",(function(t){return o.Ac(n),o.jc(2).nbrPeriod=t}))("ngModelChange",(function(t){return o.Ac(n),o.jc(2).inputChange(t)})),o.Wb(),o.Wb()}if(2&t){var r=o.jc(2);o.pc("ngClass",o.uc(2,m,!r.validNbrPeriod(r.nbrPeriod),r.validNbrPeriod(r.nbrPeriod))),o.Fb(2),o.pc("ngModel",r.nbrPeriod)}}function g(t,e){1&t&&o.Sb(0,"div",17)}function S(t,e){if(1&t){var n=o.Yb();o.Xb(0,"ion-list"),o.Xb(1,"ion-item",7),o.Sb(2,"ion-label",8),o.Xb(3,"ion-input",9),o.fc("ngModelChange",(function(t){return o.Ac(n),o.jc().locktime=t}))("ngModelChange",(function(t){return o.Ac(n),o.jc().inputChange(t)})),o.Wb(),o.Wb(),o.Sb(4,"div",10),o.Gc(5,b,1,5,"ion-item",11),o.Gc(6,v,3,5,"ion-item",12),o.Gc(7,g,1,0,"div",13),o.Wb()}if(2&t){var r=o.jc();o.Fb(1),o.pc("ngClass",o.uc(5,m,!r.validLocktime(r.locktime),r.validLocktime(r.locktime))),o.Fb(2),o.pc("ngModel",r.locktime),o.Fb(2),o.pc("ngIf",r.validLocktime(r.locktime)),o.Fb(1),o.pc("ngIf","recurrent"==r.type),o.Fb(1),o.pc("ngIf","recurrent"==r.type)}}function O(t,e){if(1&t){var n=o.Yb();o.Xb(0,"ion-row"),o.Xb(1,"input",29),o.fc("change",(function(t){return o.Ac(n),o.jc(2).import(t)})),o.Wb(),o.Xb(2,"label",30),o.Sb(3,"ion-icon",31),o.Sb(4,"span",32),o.Wb(),o.Wb()}}var T=function(t){return{period_nbr:t}};function k(t,e){if(1&t){var n=o.Yb();o.Xb(0,"ion-card",33),o.Xb(1,"ion-row"),o.Xb(2,"ion-col",34),o.Sb(3,"h3",35),o.Wb(),o.Xb(4,"ion-col",34),o.Xb(5,"ion-button",36),o.fc("click",(function(){o.Ac(n);var t=e.index;return o.jc(2).removePeriod(t)})),o.Ic(6," X "),o.Wb(),o.Wb(),o.Xb(7,"ion-col",37),o.Xb(8,"ion-item",7),o.Sb(9,"ion-label",38),o.Xb(10,"ion-input",39),o.fc("ngModelChange",(function(t){return o.Ac(n),e.$implicit.locktime=t}))("ngModelChange",(function(t){return o.Ac(n),o.jc(2).inputChange(t)})),o.Wb(),o.Wb(),o.Wb(),o.Xb(11,"ion-col",37),o.Xb(12,"ion-item",7),o.Sb(13,"ion-label",40),o.Xb(14,"ion-input",41),o.fc("ngModelChange",(function(t){return o.Ac(n),e.$implicit.quantity=t}))("ngModelChange",(function(t){return o.Ac(n),o.jc(2).inputChange(t)})),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&t){var r=e.$implicit,i=e.index,a=o.jc(2);o.Gb("data-index",i),o.Fb(3),o.pc("translateParams",o.tc(8,T,i+1)),o.Fb(5),o.pc("ngClass",o.uc(10,m,!a.validLocktime(r.locktime),a.validLocktime(r.locktime))),o.Fb(1),o.pc("translateParams",o.tc(13,T,i+1)),o.Fb(1),o.pc("ngModel",r.locktime),o.Fb(2),o.pc("ngClass",o.uc(15,m,!a.validQuantity(r.quantity),a.validQuantity(r.quantity))),o.Fb(1),o.pc("translateParams",o.tc(18,T,i+1)),o.Fb(1),o.pc("ngModel",r.quantity)}}function E(t,e){if(1&t){var n=o.Yb();o.Xb(0,"ion-button",42),o.fc("click",(function(){return o.Ac(n),o.jc(2).addPeriod()})),o.Sb(1,"ion-icon",43),o.Sb(2,"span",44),o.Wb()}}function y(t,e){1&t&&o.Sb(0,"ion-item",45)}var C=function(t){return{"error-border":t}},w=function(t){return{number:t}},L=function(t,e){return{quantity:t,asset:e}};function x(t,e){if(1&t){var n=o.Yb();o.Xb(0,"ion-list"),o.Gc(1,O,5,0,"ion-row",1),o.Gc(2,k,15,20,"ion-card",18),o.Xb(3,"div",19),o.Xb(4,"ion-button",20),o.fc("click",(function(){return o.Ac(n),o.jc().download()})),o.Sb(5,"ion-icon",21),o.Sb(6,"span",22),o.Wb(),o.Xb(7,"ion-button",23),o.fc("click",(function(){return o.Ac(n),o.jc().csvExample()})),o.Sb(8,"ion-icon",21),o.Sb(9,"span",24),o.Wb(),o.Gc(10,E,3,0,"ion-button",25),o.Wb(),o.Xb(11,"ion-item",7),o.Sb(12,"ion-label",26),o.Wb(),o.Sb(13,"br"),o.Xb(14,"ion-item",7),o.Sb(15,"ion-label",27),o.Wb(),o.Gc(16,y,1,0,"ion-item",28),o.Sb(17,"br"),o.Wb()}if(2&t){var r=o.jc();o.Fb(1),o.pc("ngIf",!r.platform.is("mobile")),o.Fb(1),o.pc("ngForOf",r.periods),o.Fb(8),o.pc("ngIf",r.periods.length<r.periods_nbr_limit),o.Fb(1),o.pc("ngClass",o.tc(8,C,!r.validLocktime(r.total_locktime))),o.Fb(1),o.pc("translateParams",o.tc(10,w,r.total_locktime)),o.Fb(2),o.pc("ngClass",o.tc(12,C,!r.validTotalQuantity())),o.Fb(1),o.pc("translateParams",o.uc(14,L,r.total_quantity,r.asset)),o.Fb(1),o.pc("ngIf",!r.validTotalQuantity())}}var _=function t(e,r){n(this,t),this.locktime=e,this.quantity=r},R=function(){var t=function(){function t(e,r,i){var a=this;n(this,t),this.platform=e,this.alertService=r,this.metaverseService=i,this.toMany=!1,this.type="simple",this.periods=[],this.periods_nbr_limit=50,this.periods_length_limit=1e7,this.total_quantity=0,this.total_locktime=0,this.duration_days=0,this.duration_hours=0,this.modelChanged=new o.q,this.validLocktime=function(t){return t&&t>0&&0==a.countDecimals(t)&&t<1e8},this.validNbrPeriod=function(t){return t&&t>0&&t<=1e3&&0==a.countDecimals(t)},this.validQuantity=function(t){return void 0!==t&&a.countDecimals(t)<=a.decimals&&t>0},this.validTotalQuantity=function(){return void 0!==a.quantity&&a.total_quantity<=parseFloat(a.quantity)}}return i(t,[{key:"ngOnInit",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.periods.push(new _(void 0,void 0)),t.prev=1,t.next=4,this.metaverseService.getHeight();case 4:return e=t.sent,t.next=7,this.metaverseService.getBlocktime(e);case 7:this.blocktime=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0.message);case 13:case"end":return t.stop()}}),t,this,[[1,10]])})))}},{key:"ngOnChanges",value:function(t){this.inputChange(event),this.toMany&&(this.type="simple")}},{key:"addPeriod",value:function(){this.periods.push(new _(void 0,void 0)),this.inputChange(event)}},{key:"removePeriod",value:function(t){this.periods.splice(t,1),this.inputChange(event)}},{key:"inputChange",value:function(t){var e,n=Math.round(parseFloat(this.quantity)*Math.pow(10,this.decimals));switch(this.duration_days=Math.floor(this.blocktime*this.locktime/86400),this.duration_hours=Math.floor(this.blocktime*this.locktime/3600-24*this.duration_days),this.type){case"simple":this.validLocktime(this.locktime)&&(e=this.toMany?"PN=0;LH="+this.locktime+";TYPE=1;LP="+this.locktime+";UN=1":"PN=0;LH="+this.locktime+";TYPE=1;LQ="+n+";LP="+this.locktime+";UN=1");break;case"recurrent":this.validLocktime(this.locktime)&&this.validNbrPeriod(this.nbrPeriod)&&(e="PN=0;LH="+Math.floor(this.locktime/this.nbrPeriod)+";TYPE=1;LQ="+n+";LP="+this.locktime+";UN="+this.nbrPeriod);break;case"custom":for(var r,i,a=!0,o=0,s=0,c=0;c<this.periods.length;c++){var u=this.periods[c];u.quantity&&(o+=parseFloat(u.quantity)),u.locktime&&(s+=parseFloat(u.locktime)),r=0===c?Math.round(parseFloat(u.quantity)*Math.pow(10,this.decimals))+"":r+","+Math.round(parseFloat(u.quantity)*Math.pow(10,this.decimals)),i=0===c?u.locktime:i+","+u.locktime,this.validQuantity(u.quantity)&&this.validLocktime(u.locktime)||(a=!1)}this.total_quantity=o,this.total_locktime=s,a&&this.validLocktime(s)&&this.total_quantity<=parseFloat(this.quantity)&&(e="PN=0;LH="+this.periods[0].locktime+";TYPE=2;LQ="+Math.round(o*Math.pow(10,this.decimals))+";LP="+s+";UN="+this.periods.length+";UC="+i+";UQ="+r)}this.attenuation_model!==e&&(this.quantity||this.toMany)&&(this.modelChanged.emit({attenuation_model:e,locktime:this.locktime}),this.attenuation_model=e)}},{key:"countDecimals",value:function(t){return Math.floor(t)!==t&&t.toString().split(".").length>1&&t.toString().split(".")[1].length||0}},{key:"import",value:function(t){var e=this;this.alertService.showLoading().then((function(){setTimeout((function(){e.open(t)}),500)}))}},{key:"open",value:function(t){var e=this,n=t.target.files,r=new FileReader;r.onload=function(t){var n=t.target.result;try{var r=n.split("\n");if(r.length>e.periods_nbr_limit)e.alertService.showLimitReached("MESSAGE.LOCK_IMPORT_CSV_TOO_MANY_PERIODS_TITLE","MESSAGE.LOCK_IMPORT_CSV_TOO_MANY_PERIOD_BODY",e.periods_nbr_limit);else{e.periods=[];for(var i=0;i<r.length;i++)if(r[i]){var a=r[i].split(",");a[0]=a[0]?a[0].trim():a[0],e.periods.push(new _(a[0],a[1]))}e.inputChange(event)}e.alertService.stopLoading()}catch(t){e.alertService.stopLoading(),console.error(t),e.alertService.showMessage("WRONG_FILE","","SEND_MORE.WRONG_FILE")}},n[0]&&r.readAsText(n[0])}},{key:"download",value:function(){var t="";this.periods.forEach((function(e){t+=e.locktime+","+e.quantity+"\n"})),this.downloadFile("lock_model.csv",t)}},{key:"csvExample",value:function(){this.downloadFile("mvs_example.csv","Locktime in Block,Amount,Please delete this line before import\n10,1000\n20,2000\n50,10000")}},{key:"downloadFile",value:function(t,e){var n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),document.createEvent){var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}else n.click()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Rb(s.eb),o.Rb(c.a),o.Rb(u.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-attenuation-model-selector"]],inputs:{quantity:"quantity",decimals:"decimals",asset:"asset",toMany:"toMany"},outputs:{modelChanged:"modelChanged"},features:[o.Db],decls:4,vars:3,consts:[["lines","none",4,"ngIf"],[4,"ngIf"],["lines","none"],["color","primary",3,"ngModel","ngModelChange"],["value","simple","translate","ASSET_LOCK.SIMPLE"],["value","recurrent","translate","ASSET_LOCK.RECURRENT"],["value","custom","translate","ASSET_LOCK.CUSTOM"],[3,"ngClass"],["color","primary","position","floating","translate","ASSET_LOCK.DURATION"],["name","locktime","type","number","min","0","step","1",3,"ngModel","ngModelChange"],["translate","ASSET_LOCK.HELP.TOTAL_DURATION",1,"advice"],["class","info-input","lines","none","translate","ASSET_LOCK.DURATION_ESTIMATION",3,"translateParams",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","advice","translate","ASSET_LOCK.HELP.NBR_PERIOD",4,"ngIf"],["lines","none","translate","ASSET_LOCK.DURATION_ESTIMATION",1,"info-input",3,"translateParams"],["color","primary","position","floating","translate","ASSET_LOCK.NBR_PERIOD"],["name","nbrPeriod","type","number","min","0","step","1",3,"ngModel","ngModelChange"],["translate","ASSET_LOCK.HELP.NBR_PERIOD",1,"advice"],["class","card-block",4,"ngFor","ngForOf"],[1,"right-buttons"],["color","primary","fill","outline","shape","round",3,"click"],["slot","start","name","download"],["translate","ASSET_LOCK.BUTTON.EXPORT_CSV"],["color","secondary","fill","outline","shape","round",3,"click"],["translate","ASSET_LOCK.BUTTON.DOWNLOAD_CSV_EXAMPLE"],["color","success","fill","outline","shape","round",3,"click",4,"ngIf"],["color","primary","translate","ASSET_LOCK.TOTAL_DURATION",3,"translateParams"],["color","primary","translate","ASSET_LOCK.TOTAL_QUANTITY",3,"translateParams"],["lines","none","class","wrong-input","translate","ASSET_LOCK.TOTAL_MORE_SEND",4,"ngIf"],["type","file","name","file","id","file","accept",".csv",1,"inputfile",3,"change"],["for","file"],["slot","start","name","document"],["translate","ASSET_LOCK.BUTTON.IMPORT_FROM_CSV"],[1,"card-block"],["size","6"],["translate","ASSET_LOCK.PERIOD_NBR",1,"period-title",3,"translateParams"],["tabIndex","-1","fill","clear","color","primary",1,"remove-button",3,"click"],["size","12","size-md","6"],["color","primary","translate","ASSET_LOCK.DURATION_CUSTOM_PERIOD","color","primary","position","floating",3,"translateParams"],["required","",3,"ngModel","ngModelChange"],["color","primary","translate","ASSET_LOCK.AMOUNT_CUSTOM_PERIOD","color","primary","position","floating",3,"translateParams"],["type","number","min","0","required","",3,"ngModel","ngModelChange"],["color","success","fill","outline","shape","round",3,"click"],["slot","start","name","add"],["translate","ASSET_LOCK.BUTTON.ADD_PERIOD"],["lines","none","translate","ASSET_LOCK.TOTAL_MORE_SEND",1,"wrong-input"]],template:function(t,e){1&t&&(o.Xb(0,"div"),o.Gc(1,h,5,1,"ion-item",0),o.Gc(2,S,8,8,"ion-list",1),o.Gc(3,x,18,17,"ion-list",1),o.Wb()),2&t&&(o.Fb(1),o.pc("ngIf",!e.toMany),o.Fb(1),o.pc("ngIf","simple"==e.type||"recurrent"==e.type),o.Fb(1),o.pc("ngIf","custom"==e.type))},directives:[l.m,s.x,s.L,s.gb,f.i,f.l,s.M,d.a,s.A,l.k,s.z,s.w,s.db,l.l,s.i,s.v,s.K,s.k,s.q,s.hb,f.n],styles:[".right-buttons[_ngcontent-%COMP%]{text-align:right;width:100%}.period-title[_ngcontent-%COMP%]{padding-left:16px;padding-top:0}.remove-button[_ngcontent-%COMP%]{float:right;margin:0}.card-block[_ngcontent-%COMP%]{padding:10px}.inputfile[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-weight:500;background-color:var(--ion-color-secondary);margin:auto 0 auto auto;padding:8px 15px;border-radius:2.5px;display:block;color:#fff;font-size:1em;transition:all .4s;cursor:pointer;text-transform:uppercase;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover, .inputfile[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]{opacity:.9}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:8px}"]}),t}()},B180:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var a=r("mrSG"),o=r("fXoL"),s=r("3LUQ"),c=r("Fvwb"),u=r("BZA/"),l=r("tyNb"),f=function(){var t=function(){function t(e,r,i,a){n(this,t),this.alertService=e,this.walletService=r,this.metaverseService=i,this.router=a,this.savedAccountsName=[]}return i(t,[{key:"init",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.walletService.hasSeed();case 2:return this.hasSeed=t.sent,t.next=5,this.walletService.getSavedAccounts();case 5:e=t.sent,this.savedAccountsName=e&&e.length>=1?e.map((function(t){return t.name})):[];case 7:case"end":return t.stop()}}),t,this)})))}},{key:"logout",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.walletService.getSessionAccountInfo();case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=!this.hasSeed;case 5:if(!t.t0){t.next=9;break}this.saveAccount(),t.next=10;break;case 9:this.showLogoutNoAccount();case 10:case"end":return t.stop()}}),t,this)})))}},{key:"forgetAccount",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.walletService.getAccountName();case 2:return e=t.sent,t.next=5,this.walletService.deleteAccount(e);case 5:return t.next=7,this.metaverseService.hardReset();case 7:this.router.navigate(["login"]);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"saveAccount",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.walletService.getAccountName();case 2:(e=t.sent)?this.save(e):this.newUsername("LOGOUT.SAVE_NEW_USER.TITLE","LOGOUT.SAVE_NEW_USER.SUBTITLE","LOGOUT.SAVE_NEW_USER.PLACEHOLDER");case 4:case"end":return t.stop()}}),t,this)})))}},{key:"newUsername",value:function(t,e,n){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertService.alertTripleChoiceAndInput(t,e,"LOGOUT.CONFIRMATION.CANCEL","LOGOUT.CONFIRMATION.FORGET","LOGOUT.CONFIRMATION.SAVE",n,"text");case 2:if(!(i=r.sent)){r.next=13;break}r.t0=i.choice,r.next="option1"===r.t0?7:"option2"===r.t0?9:12;break;case 7:return this.forgetAccount(),r.abrupt("break",13);case 9:return(a=i.input)?-1!==this.savedAccountsName.indexOf(a)?this.newUsername("LOGOUT.SAVE_ACCOUNT_ALREADY_EXIST.TITLE","LOGOUT.SAVE_ACCOUNT_ALREADY_EXIST.SUBTITLE",n):this.save(a):this.newUsername("LOGOUT.SAVE_ACCOUNT_NO_NAME.TITLE","LOGOUT.SAVE_ACCOUNT_NO_NAME.SUBTITLE",n),r.abrupt("break",13);case 12:return r.abrupt("return");case 13:case"end":return r.stop()}}),r,this)})))}},{key:"save",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.walletService.saveAccount(t);case 3:return e.next=5,this.metaverseService.hardReset();case 5:return e.next=7,this.router.navigate(["login"]);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.alertService.showError("ERROR.SAVE_ACCOUNT",e.t0.message);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))}},{key:"showLogoutNoAccount",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertService.alertConfirm("LOGOUT.CONFIRMATION_NO_ACCOUNT.TITLE","LOGOUT.CONFIRMATION_NO_ACCOUNT.SUBTITLE","LOGOUT.CONFIRMATION_NO_ACCOUNT.CANCEL","LOGOUT.CONFIRMATION_NO_ACCOUNT.OK");case 2:if(t.t0=t.sent,!t.t0){t.next=7;break}return t.next=6,this.metaverseService.hardReset();case 6:this.router.navigate(["login"]);case 7:case"end":return t.stop()}}),t,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(s.a),o.bc(c.a),o.bc(u.a),o.bc(l.h))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},JvOL:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var a=r("fXoL"),o=function(){var t=function(){function t(){n(this,t)}return i(t,[{key:"transform",value:function(t,e){var n=e[0],r=e[1];return t.sort((function(t,e){return t[n]<e[n]?1==r?1:-1:t[n]>e[n]?1==r?-1:1:0})),t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Qb({name:"orderBy",type:t,pure:!0}),t}()},NqGI:function(t,n,r){"use strict";r.d(n,"a",(function(){return i})),r.d(n,"b",(function(){return a}));var i=function(){var t=e(regeneratorRuntime.mark((function t(e,n,r,i,a){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return",e.attachViewToDom(n,r,a,i));case 2:if("string"==typeof r||r instanceof HTMLElement){t.next=4;break}throw new Error("framework delegate is missing");case 4:if(o="string"==typeof r?n.ownerDocument&&n.ownerDocument.createElement(r):r,i&&i.forEach((function(t){return o.classList.add(t)})),a&&Object.assign(o,a),n.appendChild(o),t.t0=o.componentOnReady,!t.t0){t.next=12;break}return t.next=12,o.componentOnReady();case 12:return t.abrupt("return",o);case 13:case"end":return t.stop()}}),t)})));return function(e,n,r,i,a){return t.apply(this,arguments)}}(),a=function(t,e){if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},TXHh:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var i=r("ofXK"),a=r("3Pt+"),o=r("TEn/"),s=r("sYmb"),c=r("iTUp"),u=r("fXoL"),l=function(){var t=function t(){n(this,t)};return t.\u0275mod=u.Pb({type:t}),t.\u0275inj=u.Ob({factory:function(e){return new(e||t)},imports:[[i.c,a.e,o.Y,s.c.forChild(),c.a]]}),t}()},"U/uv":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("sxy2"),i=n("ItpF"),a=n("2c9M"),o=function(t,e){var n,o,s=function(t,r,i){if("undefined"!=typeof document){var a=document.elementFromPoint(t,r);a&&e(a)?a!==n&&(u(),c(a,i)):u()}},c=function(t,e){n=t,o||(o=n);var i=n;Object(r.g)((function(){return i.classList.add("ion-activated")})),e()},u=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n){var e=n;Object(r.g)((function(){return e.classList.remove("ion-activated")})),t&&o!==n&&n.click(),n=void 0}};return Object(i.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:function(t){return s(t.currentX,t.currentY,a.a)},onMove:function(t){return s(t.currentX,t.currentY,a.b)},onEnd:function(){u(!0),Object(a.e)(),o=void 0}})}},m5Kd:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var a=r("mrSG"),o=r("2Vo4"),s=r("pLZG"),c=r("meUc"),u=r.n(c),l=r("OZ/i"),f=r.n(l),d=r("fXoL"),h=r("OaWH"),p=r("Fvwb"),b=function(){var t=function(){function t(e,i){var a=this;n(this,t),this.appService=e,this.wallet=i,this.ready$=new o.a(!1),this.Tx=r("jSND").Transaction,this.web3=new u.a,this.appService.network$.pipe(Object(s.a)((function(t){return!!t}))).subscribe((function(t){console.log("setup metaverse service for network",t),a.network="testnet"===t?"https://vm.mvs.org/testnet_rpc":"https://vm.mvs.org/rpc",a.web3.setProvider(a.network),a.ready$.next(!0)}))}return i(t,[{key:"sendParams",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.appService.default_fees_vm.gas,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.appService.default_fees_vm.gasPrice;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",{to:t,value:this.web3.utils.toWei(e+"","ether"),chainId:"testnet"===this.network?43:23,networkId:"testnet"===this.network?43:23,gas:n,gasPrice:r,nonce:void 0});case 1:case"end":return i.stop()}}),i,this)})))}},{key:"getHeight",value:function(){return this.web3.eth.getBlockNumber()}},{key:"getTransaction",value:function(t){return this.web3.eth.getTransaction(t)}},{key:"showBlockNumber",value:function(t){return new f.a(t.number.toString("hex"),16).toNumber()}},{key:"getPrivateKey",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.wallet.exportPrivateKey(t,"m/44'/60'/0'/0/0"));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"sign",value:function(t,e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getPrivateKey(e);case 2:return r=n.sent,i=this.web3.eth.accounts.wallet.add(r),n.next=6,i.signTransaction(t);case 6:return a=n.sent,n.abrupt("return",(this.web3.eth.accounts.wallet.clear(),a));case 8:case"end":return n.stop()}}),n,this)})))}},{key:"send",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.web3.eth.sendSignedTransaction(t.rawTransaction).once("transactionHash",(function(t){console.log({hash:t})})));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"balanceOf",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.web3.eth.getBalance(t));case 1:case"end":return e.stop()}}),e,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.bc(h.a),d.bc(p.a))},t.\u0275prov=d.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},pCZr:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var i=r("ofXK"),a=r("bmg4"),o=r("TEn/"),s=r("fXoL"),c=function(){var t=function t(){n(this,t)};return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[i.c,o.Y,a.a]]}),t}()},sPtc:function(t,n,r){"use strict";r.d(n,"a",(function(){return a})),r.d(n,"b",(function(){return o})),r.d(n,"c",(function(){return i})),r.d(n,"d",(function(){return c}));var i=function(t,e){return null!==e.closest(t)},a=function(t,e){return"string"==typeof t&&t.length>0?Object.assign((i=!0,(r="ion-color-"+t)in(n={"ion-color":!0})?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n),e):e;var n,r,i},o=function(t){var e={};return function(t){return void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter((function(t){return null!=t})).map((function(t){return t.trim()})).filter((function(t){return""!==t})):[]}(t).forEach((function(t){return e[t]=!0})),e},s=/^[a-z][a-z0-9+\-.]*:/,c=function(){var t=e(regeneratorRuntime.mark((function t(e,n,r,i){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e||"#"===e[0]||s.test(e)){t.next=4;break}if(!(a=document.querySelector("ion-router"))){t.next=4;break}return t.abrupt("return",(null!=n&&n.preventDefault(),a.push(e,r,i)));case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}()}}])}();